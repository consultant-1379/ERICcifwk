{% extends "base_newlookandfeel.html" %}
{% load setVar %}
{% load passwordHide %}

{% block title %}DMT Deployments{% endblock %}
{% block content %}
<link rel="stylesheet" href="/static/jQueryUI/jquery-ui.css">
<script src="/static/jQueryUI/jquery-ui.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $(".tablesort").tablesorter({widgets: ['zebra']});
    });

    function genericDialog(message){
        alert(message);
    }

    function changeActiveStatus(clickedid,server,clusterServerId,activeStatus) {
        var box= confirm("Are you sure you want to change the Active Status of Server '" + server + "'?");
        var updatedStatus = "";
        if (activeStatus=="True") {
            updatedStatus = "Passive";
        } else {
            updatedStatus = "Active";
        }
        if (box==true){
            $.ajax({
                type: "GET",
                url: "/api/clusterServer/" + server + "/clusterServerId/" + clusterServerId + "/activeStatus/" + activeStatus + "/update/",
                dataType: "html",
                success: function (html) {
                    genericDialog("Active Status of Server: " + server + " was updated with success to: '" + updatedStatus + "', Page will now reload.");
                    location.reload();
                },
                error: function (xhr, textStatus, errorThrown) {
                    genericDialog("Could not post updated active status to the CI Database, Please ensure you are logged in and please try again: " + (errorThrown ? errorThrown : xhr.status));
                    return;
                },
                dataType: "json",
            });
        } else {
           document.getElementById(clickedid).checked = true;
        }
    }

    $(document).ready(function () {
        $('#deploymentStatus').click();
    });

    $(function() {
        $( "#accordionVmServicesIpRanges" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionAutoVmServicesDnsIpRanges" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDetails" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDeployStatus" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionOssrc" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDas" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionMED" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDVMS" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionOP" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionVlanDetails" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionVlanDetailsCon" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDatabaseProvider" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionSAN" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDas1" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionDatabaseVip" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionlvsrouterVip" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionVeritas" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionMultiCast" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionVlanMultiCast" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $( "#accordionHybridCloud" ).accordion({
            active:false,
            collapsible: true,
            heightStyle: "content"
        });

        $("#accordion").accordion({
            collapsible:true,
            active:false,
            heightStyle: "content"
        });


        var icons = $( "#accordion" ).accordion( "option", "icons" );
        $('.open').click(function () {
            $('.ui-accordion-header').removeClass('ui-corner-all').addClass('ui-accordion-header-active ui-state-active ui-corner-top').attr({
                'aria-selected': 'true',
                'aria-expanded': 'true',
                'tabindex': '0'
            });
            $('.ui-accordion-header-icon').removeClass(icons.header).addClass(icons.headerSelected);
            $('.ui-accordion-content').addClass('ui-accordion-content-active').attr({
                'aria-expanded': 'true',
                'aria-hidden': 'false'
            }).show();
            $(this).attr("disabled","disabled");
            $('.close').removeAttr("disabled");
        });
        $('.close').click(function () {
            $('.ui-accordion-header').removeClass('ui-accordion-header-active ui-state-active ui-corner-top').addClass('ui-corner-all').attr({
                'aria-selected': 'false',
                'tabindex': '-1'
            });
            $('.ui-accordion-header-icon').removeClass(icons.headerSelected).addClass(icons.header);
            $('.ui-accordion-content').removeClass('ui-accordion-content-active').attr({
                'aria-expanded': 'false',
                'aria-hidden': 'true'
            }).hide();
            $(this).attr("disabled","disabled");
            $('.open').removeAttr("disabled");
        });
        $('.ui-accordion-header').click(function () {
            $('.open').removeAttr("disabled");
            $('.close').removeAttr("disabled");

        });
        $('.deployment_container').show()
    });

    function checkAction(msg, link) {
        var go = confirm(msg);
        if (go == true) {
            window.location = link;
        }
    }

    function checkFormAction(msg, formId) {
        var go = confirm(msg);
        if (go == true) {
            document.getElementById(formId).submit();
            $("body").addClass('loading');
        }
    }
</script>
{% for s in clustersvrs %}
    <script>
        $(function() {
            $( "#accordion_{{ s.server__hostname  }}" ).accordion({
                collapsible: true,
                active:false,
                heightStyle: "content"
             });
        });
    </script>
{% endfor %}
{% spaceless %}
{% if cluster %}
<div class="deployment_container" style="display:none;">
    <h2><b class="generalPageNewLook-title">{{ cluster.name }}</b>
        <span>
            {% if userPermsAdmin %}
                <a class="img" style="padding-left:5px;" href="javascript:void(0)"onClick="checkAction('Do you really want to Delete {{ cluster.name}}?', '/dmt/deletecluster/{{cluster.id}}/delete')"title="Delete This Deployment"><img src="/static/images/delete.png" /></a>
            {% else %}
                <a class="img" style="padding-left:5px;" title="No Permissions to Delete This Deployment"><img src="/static/images/nodelete.png" /></a>
            {% endif %}
            {% if userPerms %}
                <a class="img" style="padding-left:5px;" href="/dmt/editcluster/{{cluster.id}}/edit" title="Edit This Deployment"><img src="/static/images/edit.png" /></a>
            {% else %}
                <a class="img" style="padding-left:5px;" title="No permission to Edit This Deployment"><img src="/static/images/noedit.png" /></a>
            {% endif %}
            <a class="img" style="padding-left:5px;" href="/dmt/verify/deployment/{{cluster.id}}/" title="Verify the VM Service Info Registered for the deployment against a Deployment description"><img src="/static/images/checkList.png" /></a>
            {% if userPerms %}
                <a class="img" style="padding-left:5px;" href="/dmt/populate/deployment/{{cluster.id}}/" title="Upload a Pre Populated SED File to generate the VM Service Info for Deployment ID {{cluster.id}}"><img src="/static/images/uploadSed.png" /></a>
            {% else %}
                <a class="img" style="padding-left:5px;" title="No permission to Upload a Sed to This Deployment"><img src="/static/images/noUploadSed.png" /></a>
            {% endif %}
            {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                <a class="img" style="padding-left:5px;" href="/dmt/clusterBuildArtifact/{{cluster.id}}/" title="Download a configuration file for installation for Deployment ID {{cluster.id}}"><img src="/static/images/downloadSed.png" /></a>
            {% endif %}
            <a class="img" style="padding-left:5px;" href="https://confluence-oss.seli.wh.rnd.internal.ericsson.com/display/CIOSS/Register+a+Deployment" title="Deployment Help" target="_blank"><img src="/static/images/question.png"/></a>
            <a class="img" style="padding-left:5px;" href="/dmt/log/deploymentserver/{{ cluster.id }}/" title="User Activity Log for Deployment Servers"><img src="/static/images/log.png"/></a>
        </span>
            <div class="deployment-options">
                <img class="option-img" src="/static/images/options-menu.png" title="Deployment Options"/>
                <div class="deployment-options-content">
                <li><a href="/dmt/addsvr/{{cluster.id}}/None">Add Server</a> </li>
            {% if cluster.layout.id != 1 %}
                {% if details %}
                <li> <a href="/dmt/clusters/{{cluster.id}}">Hide Deployment Details</a> </li>
                {% else %}
                <li> <a href="/dmt/clusters/{{cluster.id}}/details/">Show Deployment Details</a> </li>
                {% endif %}
            {% endif %}
            {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                {% if cluster.layout.id == 2 %}
                    {% if not virtualImageInfo %}
                    <li><a href="/dmt/addcluster/{{ cluster.id }}/addServicesCluster/">Create LSB Cluster</a></li>
                    <li> <a href="/dmt/addJbossCluster/{{ cluster.id }}/">Create JBoss Cluster</a> </li>
                        {% if not veritas %}
                        <li>  <a href="/dmt/addveritas/{{ cluster.id }}/vcs/">Create Veritas Cluster</a> </li>
                        {% endif %}
                    {% endif %}
                    {% endif %}
                {% if not ServicesClr %}
                    {% if not clusterMulticast %}
                     <li><a href="/dmt/{{ cluster.id }}/multicast/add/yes/">Multicast Info</a> </li>
                    {% endif %}
                    {% if not databaseVip %}
                    <li> <a href="/dmt/{{ cluster.id }}/databaseVip/add/">Create Database VIP</a> </li>
                    {% endif %}
                {% endif %}
                {% if ossrcClusterObj == "" %}
                <li> <a href="/dmt/addOSSRC/{{cluster.id}}/">Add OSS-RC</a> </li>
                {% endif %}
            {% endif %}
            {% if ssoDetails == "" %}
            <li><a href="/dmt/addSSO/{{cluster.id}}/">Add LDAP/Password Details</a> </li>
            {% endif %}
            {% if not clusterToNASMapObj %}
                {% if not dasObject %}
                    {% if not dasNasObject %}
                    <li> <a href="/dmt/addSAN/{{cluster.id}}/">Add SAN</a> </li>
                    <li> <a href="/dmt/addDAS/{{cluster.id}}/">Add DAS</a></li>
                    {% endif %}
                {% endif %}
            {% endif %}
            {% if not vlanTagObj %}
            <li> <a href="/dmt/vlan/{{cluster.id}}/add/">Add VLAN Details</a> </li>
            {% endif %}
            {% if not lvsrouterVip %}
            <li> <a href="/dmt/{{cluster.id}}/lvsrouterVip/add/">Add LVS Router</a></li>
            {% endif %}
            {% if not hybridCloud %}
               <li><a class="img" href='/dmt/{{ cluster.id }}/hybridCloud/add/'>Add Hybrid Cloud</a></li>
            {% endif %}
            {% if not vlanClusterMulticast %}
               <li><a class="img" href='/dmt/{{ cluster.id }}/vlanClusterMulticast/add/'>Add VLAN Cluster Multicast</a></li>
            {% endif %}
            {% if not dvmsInformation %}
               <li><a class="img" href='/dmt/dvmsInformation/{{ cluster.id }}/add/'>Add DVMS Information</a></li>
            {% endif %}
           </div>
       </div>
   </h2>
   <br>
       <div class="generic-text">
        <table class="deployment-table">
            <tr><th>ID</th><td>{{ cluster.id }}</td></tr>
            <tr><th>Description</th><td>{{ cluster.description }}</td></tr>
            <tr><th>MAC Range</th><td>{{ cluster.mac_lowest }} - {{ cluster.mac_highest }}</td></tr>
            {% if cluster.group != None %}
                {% if userPerms %}
                    <tr><th>Group</th><td>{{ cluster.group }} <a class="img" href="/dmt/changeClusterGroupOnCluster/{{ cluster.id }}/"><img src="/static/images/edit.png" alt="Edit the Cluster Group this node is defined against" height="18" width="18"/></a></td></tr>
                {% else %}
                    <tr><th>Group</th><td>{{ cluster.group }} <a class="img"  title="No Permissions to Edit"><img src="/static/images/noedit.png" alt="Edit the Cluster Group this node is defined against" height="18" width="18"/></a></td></tr>
                {% endif %}
            {% else %}
                <tr><th>Group</th><td>Not Set <a class="img" href="/dmt/changeClusterGroupOnCluster/{{ cluster.id }}/"><img src="/static/images/edit.png" alt="Edit the Cluster Group this node is defined against" height="18" width="18"/></a></td></tr>
            {% endif %}
            {% if cluster.component %}
                 <tr><th>{{ cluster.component.label.name }}</th><td>{{ cluster.component }}</td></tr>
            {% else %}
                 <tr><th>RA</th><td>&nbsp;</td></tr>
            {% endif %}
            <tr><th>Layout</th><td>{{ cluster.layout }}</td></tr>
            <tr><th>ENM Deployment Type</th><td>{{ cluster.enmDeploymentType }}</td></tr>
            <tr><th>IP Version</th><td>{{ cluster.ipVersion }}</td></tr>
            <tr><th>Management Server</th><td><a href="/dmt/mgtsvrs/{{ cluster.management_server.server.id }}/">{{ cluster.management_server.server.hostname }} (id: {{ cluster.management_server.id }})</a></td></tr>
            {% if cluster.compact_audit_logger != None %}
            <tr><th>Compact Audit Logger</th><td>{{ cluster.compact_audit_logger }}</td></tr>
            {% endif %}
            {% if deploymentDescription %}
            <tr><th>Deployment Description</th><td>
                   {% if deploymentReport %}
                       <a class="img" href="/dmt/deploymentUpdatedReport/{{ cluster.id }}/">Reports</a>
                   {% endif %}
                   <div class="table-actions">
                       {% if userPerms %}

                       <form id="ddUpdateForm" method="post" action="/api/deployment/updateClustersServicesWithDD/{{ cluster.id }}/" >
                           <a class="img" href="/dmt/{{cluster.id}}/deploymentDescription/edit/"><img src="/static/images/edit.png" /></a>
                           <a class="img" href="javascript:void(0)" onclick="checkFormAction('Do you really want to Refresh the DMT for this Cluster using the Deployment Description? This will overwrite the current settings on this Cluster\n\nNOTE: This may take a few minutes for a complete update of the cluster', 'ddUpdateForm');"><img src="/static/images/refresh.svg" title="Refresh Cluster Settings using configured Deployment Description" /></a>
                           <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this Deployment Description Mapping?','/dmt/{{ cluster.id }}/deploymentDescription/delete/');">
                           <img src="/static/images/delete.png"></a>
                   </form>
                   {% else %}
                       <img src="/static/images/noedit.png" title="No Permission to Edit Deployment Description"/>
                       <img src="/static/images/norefresh.svg" title="No Permission to Refresh Cluster Settings using configured Deployment Description" />
                       <img src="/static/images/nodelete.png" title="No Permission to Delete Deployment Description"/>
                   {% endif %}
                   </div>
                   <table class="deployment-description-table"><tr><th>Version</th><td>{{deploymentDescription.deployment_description__version__version}}</td></tr>
                        <tr><th>Type</th><td>{{deploymentDescription.deployment_description__dd_type__dd_type}}</td></tr>
                        <tr><th>Capacity Type</th><td>{{deploymentDescription.deployment_description__capacity_type}}</td></tr>
                        <tr><th>Name</th><td>{{deploymentDescription.deployment_description__name}}</td></tr>
                        <tr><th>Auto Update</th><td>{% if deploymentDescription.auto_update %} Yes {% else %} No {% endif %}</td></tr>
                        <tr><th>Update Type</th><td>{{deploymentDescription.update_type}}</td></tr>
                        <tr><th>Ip Range Source</th><td>{{deploymentDescription.iprange_type}}</td></tr>
                    </table>
             </td></tr>
            {% else %}
               <tr><th>Deployment Description</th><td>{% if userPerms %}<a class="img" href="/dmt/{{cluster.id}}/deploymentDescription/add/"><img src="/static/images/create.png" /></a>{% else %}
                   <img src="/static/images/nocreate.png" title="No Permission to Add Deployment Description"/>{% endif %}</td></tr>
            {% endif %}
        </table>
     <br>
    <div class="full-details">
        {% if deployStatus %}
            <div class="full-sub-details">
                <table width="100%">
                    <tr>
                        <th class="title">
                            <div class="table-title">Status Information</div>
                            <span class="table-actions">
                                {% if userPerms %}
                                    <a class="img" href="/dmt/editDeploymentStatus/{{ cluster.id }}/{{ deployStatus.id }}"><img src="/static/images/edit.png" title="Edit Deployment Status" /></a>
                                {% else %}
                                    <img src="/static/images/noedit.png" title="No Permissions to Edit"/>
                                {% endif %}
                            </span>
                        </th>
                    </tr>
                </table>

                <div id="accordionDeployStatus">
                    <h3 id="deploymentStatus">Deployment Status - {{ deployStatus.status }}</h3>
                <div>
                <table class="deployment-table">
                   <tr><th>Status</th><td>{{ deployStatus.status }}</td></tr>
                   <tr><th>OS</th><td>{{ deployStatus.osDetails }}</td></tr>
                   <tr><th>Patches</th><td>{{ deployStatus.patches }}</td></tr>
                   <tr><th>LITP</th><td>{{ deployStatus.litpVersion }}</td></tr>
                   <tr><th>ISO Version</th><td>{{ deployStatus.mediaArtifact }}</td></tr>
                   <tr><th>KGB Packages</th><td>{{ deployStatus.packages }}</td></tr>
                   <tr><th>Description</th><td>{{ deployStatus.description }}</td></tr>
                 </table>
            </div>
        {% endif %}
    </div>
    <br>
    {% if ServicesClr %}
        {% for scl in ServicesClr %}
            <div class="full-sub-details">
                <table class="plain deployment-table" width=100%>
                    <th class="title"  colspan=3>
                        {% if scl.name == "LSB Service Cluster" %}
                            <div class="table-title">LSB Service Cluster Details</div>
                        {% else %}
                            <div class="table-title">JBOSS Cluster Details for {{ scl.name }} </div>
                        {% endif %}
                         <div class="table-actions">
                            <a class="img" href="javascript:void(0)"
                                onClick="checkAction('Do you really want to delete this Cluster {{ scl.name }}?',
                                '/dmt/deleteServicesCluster/{{ cluster.id }}/{{ scl.id }}')">
                                <img src="/static/images/delete.png" title="Delete JBOSS Cluster: {{ scl.name }}" />
                            </a>
                         </div>
                    </th>
                    </table>
                    {% if scl.name != "LSB Service Cluster" %}
                        <div class="full-sub-sub-details">
                            <table class="plain deployment-table" width=100%>
                                <th class="title" colspan=3>
                                    <div class="table-title">Multicast Information</div>
                                    <div class="table-actions">
                                            {% set found = 0 %}
                                            {% if mcasts %}
                                                {% for m in mcasts %}
                                                    {% if m.service_cluster.name == scl.name %}
                                                        {% if userPerms %}
                                                            <a class="img" href='/dmt/editmcast/{{cluster.id}}/{{scl.id}}/'>
                                                                <img src="/static/images/edit.png" title="Modify Multicast info for {{ scl.name }}" />
                                                            </a>
                                                            <a class="img" href="javascript:void(0)"
                                                                    onClick="checkAction('Do you really want to delete the Multicast info for {{ scl.name }}?',
                                                                    '/dmt/deletemcast/{{ scl.id }}/')">
                                                                <img src="/static/images/delete.png" title="Delete Multifast for: {{ scl.name }}" />
                                                            </a>
                                                        {% set found = 1 %}
                                                        {% else %}
                                                             <img src="/static/images/noedit.png" title="No Edit Permissions" />
                                                             <img src="/static/images/nodelete.png" title="No Delete Permissions" />
                                                        {% endif %}
                                                        {% set found = 1 %}
                                                    {% endif %}
                                                {% endfor %}
                                            {% endif %}
                                            {% if found == 0 %}
                                                {% if userPerms %}
                                                    <a class="img" href='/dmt/addcluster/{{scl.id}}/mcasts'>
                                                        <img src="/static/images/create.png" title="Create Multicast info for {{ scl.name }}" />
                                                    </a>
                                                {% else %}
                                                    <img src="/static/images/nocreate.png" title="No Permission to Create Multicast info" />
                                                {% endif %}
                                           {% endif %}
                                    </div>
                                 </th>
                                {% for m in mcasts %}
                                    {% if m.service_cluster.name == scl.name %}
                                        <tr><th>Type</th><th>Address</th><th>Port</th></tr>
                                        <tr>
                                            <th>Default Multicast</th>
                                            <td>{{ m.ipMapDefaultAddress.address }}</td>
                                            <td>{{ m.default_mcast_port }}</td>
                                        </tr>
                                        <tr>
                                        <th width="33%">Messaging Group</th>
                                            <td>{{ m.ipMapMessagingGroupAddress.address }}</td>
                                            <td>{{ m.messaging_group_port }}</td>
                                        </tr>
                                        <tr>
                                            <th>UDP Mcast</th>
                                            <td>{{ m.ipMapUdpMcastAddress.address }}</td>
                                            <td>{{ m.udp_mcast_port }}</td>
                                        </tr>
                                        <tr>
                                            <th>Mping Mcast</th>
                                            <td>{{ m.ipMapMpingMcastAddress.address }}</td>
                                            <td>{{ m.mping_mcast_port }}</td>
                                        </tr>
                                        <tr>
                                            <th>Public Base</th>
                                            <td>-</td>
                                            <td>{{ m.public_port_base }}</td>
                                       </tr>
                                    {% endif %}
                                {% endfor %}
                            </table>
                        </div>
                    {% endif %}
                        <div class="full-sub-sub-details">
                            <table class="plain" width=100%>
                                <th class="title">
                                    <div class="table-title">Service Group Details</div>
                                     <div class="table-actions">
                                         {% if userPerms %}
                                            <a class="img" href="/dmt/addcluster/{{ cluster.id }}/{{ scl.id }}/addServiceGroup/">
                                                <img src="/static/images/create.png" title="Create Service Group" />
                                            </a>
                                         {% else %}
                                            <img src="/static/images/nocreate.png" title="No Permission to Create Service Group" />
                                         {% endif %}
                                     </div>
                                </th>
                            </table>
                            {% if serviceGroupInfo %}
                                {% for sg in serviceGroupInfo %}
                                    {% if scl.name == sg.sg.cluster_type %}
                                        <div class="full-sub-sub-sub-details">
                                            <table class="plain" width=100%>
                                                <tr>
                                                    <th class="title" colspan=2>
                                                    <div class="table-title">Service Group: {{ sg.sg.name }}</div>
                                                    <div class="table-actions">
                                                        {% if userPerms %}
                                                            <a class="img" href="/dmt/editServiceGroup/{{ sg.sg.name }}/{{ sg.sg.id }}/">
                                                                <img src="/static/images/edit.png" title="Edit Service group: {{ sg.sg.name }}" />
                                                            </a>
                                                            <a class="img" href="javascript:void(0)"
                                                                onClick="checkAction('Do you really want to delete Service Group {{ sg.sg.name }}?',
                                                                          '/dmt/deleteServiceGroup/{{ sg.sg.name }}/{{ sg.sg.id }}')">
                                                                <img src="/static/images/delete.png" title="Delete Service Group: {{ sg.sg.name }}" />
                                                            </a>
                                                        {% else %}
                                                           <img src="/static/images/noedit.png" title="No Permission to Edit Service group" />
                                                           <img src="/static/images/nodelete.png" title="No Permission to Delete Service Group" />
                                                        {% endif %}
                                                    </div>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <th width=50%>Node List</th><td>{{ sg.sg.node_list }}</td>
                                                </tr>
                                                <tr>
                                                    <th>Cluster Type</th><td>{{ sg.sg.cluster_type }}</td>
                                                </tr>
                                                <tr>
                                                    <th>Credentials
                                                        <div class="table-actions">
                                                            {% if userPerms %}
                                                                <a class="img" href="/dmt/addServiceGroupCredentials/{{ sg.sg.name }}/{{ sg.sg.id }}/">
                                                                    <img src="/static/images/create.png" title="Add Service group Credentials: {{ sg.sg.name }}" />
                                                                </a>
                                                            {% else %}
                                                                <img src="/static/images/nocreate.png" title="No Permission to Add Service group Credentials" />
                                                            {% endif %}
                                                        {% set found = 0 %}
                                                        {% for cred in sg.credentialsList %}
                                                        {% if cred.service_group == sg.sg %}
                                                          {% set found = 1 %}
                                                        {% endif %}
                                                        {% endfor %}
                                                        {% if found == 1 %}
                                                        {% if userPerms %}
                                                            <a class="img" href="/dmt/updateServiceGroupCredentials/{{ sg.sg.name }}/{{ sg.sg.id }}/">
                                                                <img src="/static/images/edit.png" title="Edit Service group Credentials: {{ sg.sg.name }}" />
                                                            </a>
                                                            <a class="img" href="/dmt/deleteServiceGroupCredentials/{{ sg.sg.name }}/{{ sg.sg.id }}/">
                                                                <img src="/static/images/delete.png" title="Delete Service group Credentials: {{ sg.sg.name }}" />
                                                            </a>
                                                        {% else %}
                                                            <img src="/static/images/noedit.png" title="No Permission to Edit Service group Credentials" />
                                                            <img src="/static/images/nodelete.png" title="No Permission to Delete Service group Credentials" />
                                                        {% endif %}
                                                       </div>
                                                </th>
                                                <td>
                                                    <table>
                                                       {% for cred in sg.credentialsList %}
                                                       {% if cred.service_group == sg.sg %}
                                                       <tr>
                                                           <th>Username: </th> <td>{{cred.credentials__username}}</td>
                                                           <th>Password: </th> <td>{{cred.credentials__password|passwordHide}}</td>
                                                           <th>Type: </th> <td>{{cred.credentials__credentialType}}</td>
                                                        <tr>
                                                        {% endif %}
                                                        {% endfor %}
                                                    </table>
                                                </td>
                                                </tr>
                                                {% endif %}
                                                <tr>
                                                    <th>
                                                        <div class="table-title" style="width: 50%;">Packages</div>
                                                        <div class="table-actions">
                                                            {% if userPerms %}
                                                                <a class="img" href="/dmt/serviceGroup/{{ sg.sg.id }}/addPackage/">
                                                                    <img src="/static/images/create.png" title="Add Package to Service Group {{ sg.sg.name }}" />
                                                                </a>
                                                            {% else %}
                                                                <img src="/static/images/nocreate.png" title="No Permission to Add Package to Service Group" />
                                                            {% endif %}
                                                            {% if sg.packages %}
                                                                {% if userPerms %}
                                                                    <a class="img" href="/dmt/editSGPackages/{{ sg.sg.id }}/">
                                                                        <img src="/static/images/delete.png" title="Select and Delete Packages"/>
                                                                    </a>
                                                                {% else %}
                                                                    <img src="/static/images/delete.png" title="No Permission to Delete Packages"/>
                                                                {% endif %}
                                                            {% endif %}
                                                        </div>
                                                    </th>
                                                    <td>
                                                        <ul>
                                                        {% for pkg in sg.packages %}
                                                            <li>{{ pkg }}</li>
                                                        {% endfor %}
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="plain" width="100%">
                                                <tr>
                                                    <th colspan=6 class="title">
                                                        <div class="table-title">{{ sg.sg.name }} Public Unit(s)</div>
                                                        <div class="table-actions">
                                                            {% if userPerms %}
                                                                <a class="img" href='/dmt/{{ cluster.id }}/serviceGroup/{{ sg.sg.id }}/addInstance/'>
                                                                    <img src="/static/images/create.png" title="Add Service Group Unit to {{ sg.sg.name }}" />
                                                                </a>
                                                            {% else %}
                                                                <img src="/static/images/nocreate.png" title="No Permission to Add Service Group Unit" />
                                                            {% endif %}
                                                        </div>
                                                    </th>
                                                </tr>
                                                    {% if sg.jbossServiceInstances %}
                                                        <tr>
                                                            <th width="16%">Name</th>
                                                            <th width="16%">Hostname</th>
                                                            <th width="16%">Unit IP</th>
                                                            <th width="16%">Bitmask</th>
                                                            <th width="16%">Gateway</th>
                                                            <th width="20%">Options</th>
                                                            <th></th>
                                                        </tr>
                                                        {% for si in sg.jbossServiceInstances %}
                                                            {% if si.service_group.name == sg.sg.name %}
                                                                <tr>
                                                                    <td>{{ si.name }}</td>
                                                                    {% if si.hostname != None %}
                                                                        <td>{{ si.hostname }}</td>
                                                                    {% else %}
                                                                        <td>Not Assigned</td>
                                                                    {% endif %}
                                                                    <td>{{ si.ipMap.address }}</td>
                                                                    <td>/{{ si.ipMap.bitmask }}</td>
                                                                    <td>{{ si.ipMap.gateway_address }}</td>
                                                                    <td>
                                                                        <a class="img" href="/dmt/editServiceGroupInstance/{{ sg.sg.name }}/{{ si.id }}/">
                                                                            <img src="/static/images/edit.png" />
                                                                        </a>
                                                                        <a class="img" href="javascript:void(0)"
                                                                            onCLick="checkAction('Do you really want to Delete this unit of {{si.name}}?', '/dmt/deleteServiceGroupInstance/{{sg.sg.name}}/{{si.id}}/')">
                                                                           <img src="/static/images/delete.png" title="Delete Service Unit {{ si.name }}" />
                                                                        </a>
                                                                    </td>
                                                                </tr>
                                                            {% endif %}
                                                        {% endfor %}
                                                    {% endif %}
                                            </table>
                                            <table class="plain" width="100%">
                                                 <tr>
                                                    <th colspan=6 class="title">
                                                        <div class="table-title">{{ sg.sg.name }} Internal Unit(s)</div>
                                                        <div class="table-actions">
                                                            {% if userPerms %}
                                                                <a class="img" href='/dmt/{{ cluster.id }}/serviceGroup/{{ sg.sg.id }}/addInternalInstance/'>
                                                                    <img src="/static/images/create.png" title="Add Service Group Unit to {{ sg.sg.name }}" />
                                                                </a>
                                                            {% else %}
                                                                <img src="/static/images/nocreate.png" title="No Permission to Add Service Group Unit" />
                                                            {% endif %}
                                                        </div>
                                                    </th>
                                                  </tr>
                                                  {% if sg.jbossInternalServiceInstances %}
                                                        <tr>
                                                            <th width="16%">Name</th>
                                                            <th width="16%">Hostname</th>
                                                            <th width="16%">Unit IP</th>
                                                            <th width="16%">Bitmask</th>
                                                            <th width="16%">Gateway</th>
                                                            <th width="20%">Options</th>
                                                            <th></th>
                                                        </tr>
                                                        {% for si in sg.jbossInternalServiceInstances %}
                                                            {% if si.service_group.name == sg.sg.name %}
                                                                <tr>
                                                                    <td>{{ si.name }}</td>
                                                                    <td>Not Applicable</td>
                                                                    <td>{{ si.ipMap.address }}</td>
                                                                    <td>/{{ si.ipMap.bitmask }}</td>
                                                                    <td>{{ si.ipMap.gateway_address }}</td>
                                                                    <td>
                                                                        <a class="img" href="/dmt/editInternalServiceGroupInstance/{{ sg.sg.name }}/{{ si.id }}/">
                                                                            <img src="/static/images/edit.png" />
                                                                        </a>
                                                                        <a class="img" href="javascript:void(0)"
                                                                            onCLick="checkAction('Do you really want to Delete this unit of {{si.name}}?', '/dmt/deleteInternalServiceGroupInstance/{{sg.sg.name}}/{{si.id}}/')">
                                                                           <img src="/static/images/delete.png" title="Delete Service Unit {{ si.name }}" />
                                                                        </a>
                                                                    </td>
                                                                </tr>
                                                            {% endif %}
                                                        {% endfor %}
                                                  {% endif %}
                                            </table>
                                         </div>
                                   {% endif %}
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
        {% endfor %}
    {% endif %}
    <div class="full-sub-details">
        <table width="100%">
            <tr>
                <th class="title">
                    <div class="table-title">VM Service IP Range information</div>
                    <div class="table-actions">
                        {% if userPerms %}
                            <a class="img" style="padding-right:5px;" href="https://confluence-oss.seli.wh.rnd.internal.ericsson.com/display/CIOSS/Auto+Generated+DNS+IP+Ranges" title="IP Range Information" target="_blank"><img src="/static/images/question.png"/></a>
                            <a class="img" href="/dmt/deployment/{{cluster.id}}/service/ip/range/id/add/">
                                <img src="/static/images/create.png" />
                            </a>
                        {% else %}
                            <img src="/static/images/nocreate.png" title="No Permissions to Add A Server"/>
                        {% endif %}
                    </div>
                </th>
            </tr>
        </table>
        {% if vmServiceIpRange %}
            <div id="accordionVmServicesIpRanges">
                <h3 id="deploymentStatus">IP Range information </h3>
                <div>
                    <table class="deployment-table">
                        <tr>
                            <th>Start Ip Range</th>
                            <th>End Ip Range</th>
                            <th>Ip Type</th>
                            <th>Tasks</th>
                        </tr>
                        {% for ip in vmServiceIpRange %}
                            {% if "IPv6" in ip.ipTypeId.ipType %}
                                <tr><td>{{ ip.ipv6AddressStart }}</td><td>{{ ip.ipv6AddressEnd }}</td>
                            {% else %}
                                <tr><td>{{ ip.ipv4AddressStart }}</td><td>{{ ip.ipv4AddressEnd }}</td>
                            {% endif %}
                            <td>{{ ip.ipTypeId.ipType }}</td>
                            <td>
                            {% if userPerms %}
                                <a class="img" href="/dmt/deployment/{{cluster.id}}/service/ip/range/{{ ip.id }}/edit/">
                                    <img src="/static/images/edit.png" />
                                </a>
                                <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this ip range?',
                                    '/dmt/deployment/{{cluster.id}}/service/ip/range/{{ ip.id }}/delete/');">
                                    <img src="/static/images/delete.png">
                                </a>
                            {% else %}
                                <img src="/static/images/noedit.png" title="Unable to Edit cluser server.">
                                <img src="/static/images/nodelete.png" title="Unable to Delete cluser server.">
                            {% endif %}
                            </td></tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        {% endif %}
        {% if autoVmServiceDnsIpRange %}
            <div id="accordionAutoVmServicesDnsIpRanges">
                <h3 id="deploymentStatus">Auto Generated DNS IP Range Information</h3>
                <div>
                    <table class="deployment-table">
                        <tr>
                            <th>Start Ip Range</th>
                            <th>End Ip Range</th>
                            <th>Ip Type</th>
                        </tr>
                        {% for ip in autoVmServiceDnsIpRange %}
                            {% if "IPv6" in ip.ipTypeId.ipType %}
                                <tr><td>{{ ip.ipv6AddressStart }}</td><td>{{ ip.ipv6AddressEnd }}</td>
                            {% else %}
                                <tr><td>{{ ip.ipv4AddressStart }}</td><td>{{ ip.ipv4AddressEnd }}</td>
                            {% endif %}
                            <td>{{ ip.ipTypeId.ipType }}</td></tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        {% endif %}
    </div>
    <br>
    {% if clustersvrs %}
        <div class="full-sub-details">
            <table width="100%">
                <tr>
                    <th class="title">
                        <div class="table-title">Deployment Server(s)</div>
                        <div class="table-actions">
                            {% if userPerms %}
                                <a class="img" href="/dmt/addsvr/{{cluster.id}}/None">
                                    <img src="/static/images/create.png" />
                                </a>
                            {% else %}
                                <img src="/static/images/nocreate.png" title="No Permissions to Add A Server"/>
                            {% endif %}
                        </div>
                    </th>
                </tr>
            </table>
            <p><b>Run <a href="/dmt/sshkey/">these tasks</a> on all installed nodes to enable Jenkins Job interaction</b></p>
        <div id="accordion">
            {% for s in clustersvrs %}

                {% set allowDelete = 1 %}
                    {% for vm in virtualImageInfo %}
                        {% if vm.virtualImage.node_list == s.node_type %}
                            {% set allowDelete = 0 %}
                        {% endif %}
                    {% endfor %}
                    {% if s.active %}
                        <h3 style="border-style: solid; border-width: 2px; border-color: green;background:#C5EDC5;">Server: {{ s.server__hostname  }} ({{ s.node_type }}) -- Active</h3>
                    {% else %}
                        <h3 style="border-style: solid; border-width: 2px; border-color: red;background:#EBD1D7">Server: {{ s.server__hostname  }} ({{ s.node_type }}) -- Passive</h3>
                    {% endif %}
                <div>
                    <table class="deployment-server-table">
                        <tr>
                            <th class="title" colspan=2>
                                <div class="table-title">{{ s.server__hostname }} ({{ s.node_type }})</div>
                                <div class="table-actions">
                                    {% if userPerms %}
                                        <a class="img" href="/dmt/editserver/{{ cluster.id }}/{{s.server_id}}/edit">
                                            <img src="/static/images/edit.png" />
                                        </a>
                                        <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this Deployment Server {{s.server__hostname}}?',
                                               '/dmt/deleteserver/{{ cluster.id }}/{{s.server_id}}/');">
                                            <img src="/static/images/delete.png">
                                        </a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="Unable to Edit cluser server.">
                                        <img src="/static/images/nodelete.png" title="Unable to Delete cluser server.">
                                    {% endif %}
                                </div>
                            </th>
                        </tr>
                        <tr><th colspan="2">Server Status</th></tr>
                        <tr>
                            <td>Status:</td>
                            <td>
                                {% if s.active %}
                                    Active <input type="checkbox" name="activecheck" id="activecheck" checked='checked' onchange="changeActiveStatus('activecheck','{{ s.server__hostname }}','{{ s.id }}','{{ s.active }}')">
                                {% else %}
                                    Active <input type="checkbox" name="passivecheck" id="passivecheck" onchange="changeActiveStatus('passivecheck','{{ s.server__hostname }}','{{ s.id }}','{{ s.active }}')">
                                {% endif %}
                            </td>
                        </tr>
                        <tr><th colspan="2">General Server Details</th></tr>
                        <tr><td width="35%">Machine Name:</td><td>{{ s.server__name }}</td></tr>
                        <tr><td width="35%">HW Type:</td><td>{{ s.server__hardware_type }}</td></tr>
                        <tr><td width="35%">Domain Name:</td><td>{{ s.server__domain_name }}</td></tr>
                        <tr><td width="35%">DNS IP Address A:</td><td>{{ s.server__dns_serverA }}</td></tr>
                        <tr><td width="35%">DNS IP Address B:</td><td>{{ s.server__dns_serverB }}</td></tr>
                        {% if userPerms %}
                            <tr><td width="35%">Node Type:</td><td>{{ s.node_type }} <a class="img" href="/dmt/attachClsServer/{{ s.server_id }}/{{ cluster.id }}/edit/"><img src="/static/images/edit.png" alt="Edit the server Node Type" height="18" width="18"/></a></td></tr>
                        {% else %}
                        <tr><td width="35%">Node Type:</td><td>{{ s.node_type }} <a class="img"><img src="/static/images/noedit.png" title="No Permissions to Edit" height="18" width="18"/></a></td></tr>
                        {% endif %}
                         <tr>
                                <th>Credentials
                                    <div class="table-actions">
                                        {% if userPerms %}
                                            <a class="img" href="/dmt/{{ cluster.id }}/server/{{s.server__hostname}}/{{ s.node_type }}/{{ s.id }}/add/credential/">
                                                <img src="/static/images/create.png" title="Add Server Credentials: {{ s.server__hostname }} ({{ s.node_type }})" />
                                            </a>
                                        {% else %}
                                            <img src="/static/images/nocreate.png" title="No Permission to Add Server Credentials" />
                                        {% endif %}
                                   </div>
                            </th>
                            <td>
                                <table width="100%">
                                   {% set fndCred = 0 %}
                                   {% for credMap in clusServCredMaps %}
                                    {% if fndCred != 1 %}
                                        {% if credMap.clusterServer_id == s.id %}
                                          {% set fndCred = 1 %}
                                          <tr>
                                               <th>Username</th><th>Password</th><th>Type</th><th>Options</th>
                                          </tr>
                                        {% endif %}
                                    {% endif %}
                                   {% endfor %}
                                   {% for credMap in clusServCredMaps %}
                                       {% if credMap.clusterServer_id == s.id %}
                                           <tr>
                                               <td>{{ credMap.credentials__username }}</td>
                                               <td>{{ credMap.credentials__password|passwordHide }}</td>
                                               <td>{{ credMap.credentials__credentialType }}</td>
                                               <td>
                                                   {% if userPerms %}
                                                        <a class="img" href="/dmt/{{ cluster.id }}/server/{{s.server__hostname}}/{{ s.node_type }}/{{ s.id }}/edit/credential/{{ credMap.credentials_id }}/">
                                                           <img src="/static/images/edit.png" title="Edit Server Credentials: {{ s.server__hostname }} ({{ s.node_type }})" height="18" width="18"/></a>
                                                        <a class="img" href="javascript:void(0)"
                                                            onClick="checkAction('Do you really want to delete the Server credentials within {{ s.server__hostname }} ({{ s.node_type }})?',
                                                            '/dmt/{{ cluster.id }}/server/{{s.server__hostname}}/{{ s.node_type }}/{{ s.id }}/delete/credential/{{ credMap.credentials_id }}/')">
                                                        <img src="/static/images/delete.png" title="Delete Server credentials within: {{ s.server__hostname }} ({{ s.node_type }})" height="18" width="18"/>
                                                        </a>
                                                    {% else %}
                                                        <img src="/static/images/noedit.png" title="No Permission to Edit Server Credentials" height="18" width="18"/>
                                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Server credentials" height="18" width="18"/>
                                                    {% endif %}
                                               </td>
                                            </tr>
                                        {% endif %}
                                    {% endfor %}
                                </table>
                            </td>
                            </tr>
                        <tr><th colspan="2">Mac Address Details</th></tr>
                        {% for nic in allNics %}
                        {% if nic.server__hostname == s.server__hostname %}
                            <tr><td width="35%">Mac Address ({{nic.interface}}):</td><td>{{ nic.mac_address }}</td></tr>
                        {% endif %}
                        {% endfor %}
                        {% for nic in allNics %}
                             {% if nic.server__hostname == s.server__hostname %}
                                {% if nic.interface == "eth0" %}
                                {% if hardwareIdentity %}
                                    <tr><th colspan="2">World Wide Number Details</th></tr>
                                    {% for identity in hardwareIdentity %}
                                        {% if identity.server__hostname == s.server__hostname %}
                                            {% if identity.ref == "1" %}
                                                <tr><td width="35%">WWPN 1:</td><td>{{ identity.wwpn }}</td></tr>
                                            {% endif %}
                                            {% if identity.ref == "2" %}
                                                <tr><td width="35%">WWPN 2:</td><td>{{ identity.wwpn }}</td></tr>
                                            {% endif %}
                                        {% endif %}
                                    {% endfor %}
                                {% endif %}
                                {% set fndExtraBladeDetails = 1 %}
                                {% if nic.server__hardware_type == "blade" %}
                                    {% for blade in bladeExtraDetails %}
                                        {% if blade.mac_address__mac_address == nic.mac_address %}
                                            <tr><th colspan="2">Blade Server Specific Details</th></tr>
                                            <tr><td width="35%">Serial Number:</td><td>{{ blade.serial_number }}</td></tr>
                                            <tr><td width="35%">Profile Name:</td><td>{{ blade.profile_name }}</td></tr>
                                            <tr><td width="35%">Enclosure:</td><td><a href="/dmt/enclosure/{{ blade.enclosure__id }}/">{{ blade.enclosure__hostname }}</a></td></tr>
                                            {% set fndExtraBladeDetails = 0 %}
                                        {% endif %}
                                    {% endfor %}
                                {% endif %}
                                {% if fndExtraBladeDetails == 1 and  nic.server__hardware_type == "blade" %}
                                        <tr><th colspan="2">Blade Server Specific Details</th></tr>
                                        <tr><td width="35%">Serial Number:</td><td>Not Applicable</td></tr>
                                        <tr><td width="35%">Profile Name:</td><td>Not Applicable</td></tr>
                                        <tr><td width="35%">Enclosure:</td><td>Not Applicable</td></tr>
                                {% endif %}
                                {% set fndExtraRackDetails = 1 %}
                                {% if nic.server__hardware_type == "rack" %}
                                    {% for rack in rackExtraDetails %}
                                        {% if rack.clusterServer_id == s.id %}
                                            <tr><th colspan="2">Rack Server Specific Details</th></tr>
                                            <tr><td width="35%">Serial Number:</td><td>{{ rack.serial_number }}</td></tr>
                                            <tr><td width="35%">Disk UUID:</td><td>{{ rack.bootdisk_uuid }}</td></tr>
                                            {% set fndExtraRackDetails = 0 %}
                                        {% endif %}
                                    {% endfor %}
                                {% endif %}
                                {% if fndExtraRackDetails == 1 and  nic.server__hardware_type == "rack" %}
                                        <tr><th colspan="2">Rack Server Specific Details</th></tr>
                                        <tr><td width="35%">Serial Number:</td><td>Not Applicable</td></tr>
                                        <tr><td width="35%">Disk UUID:</td><td>Not Applicable</td></tr>
                                {% endif %}
                                {% set fndBkpIp = 1 %}
                                {% set fndStgIp = 1 %}
                                {% set fndMulticastIp = 1 %}
                                {% set fndJgroupIp = 1 %}
                                {% set fndInternalIp = 1 %}
                                {% for ip in ipaddrs %}
                                   {% if ip.nic__mac_address == nic.mac_address %}
                                      {% if ip.ipType == "other" %}
                                          <tr><th colspan="2">IPV4 Address Details</th></tr>
                                          <tr><td width="35%">IPv4 Host Address :</td><td>{{ ip.address }}</td></tr>
                                          <tr><th colspan="2">IPV6 Address Details</th></tr>
                                          {% if ip.ipv6_address != NONE %}
                                              <tr><td width="35%">IPv6 Host Address :</td><td>{{ ip.ipv6_address }}</td></tr>
                                          {% else %}
                                              <tr><td width="35%">IPv6 Host Address :</td><td>Not Assigned</td></tr>
                                          {% endif %}
                                      {% endif %}
                                      {% if ip.ipType == "internal" %}
                                            {% set fndInternalIp = 0 %}
                                            <tr><th colspan="2">IPV4 Internal IP Details</th></tr>
                                            <tr><td width="35%">IPv4 Internal Address :</td><td>{{ ip.address }}</td></tr>
                                      {% endif %}
                                      {% if ip.ipType == "storage" %}
                                            {% set fndStgIp = 0 %}
                                            <tr><th colspan="2">IPV4 Storage IP Details</th></tr>
                                            <tr><td width="35%">IPv4 Storage Address :</td><td>{{ ip.address }}</td></tr>
                                      {% endif %}
                                      {% if ip.ipType == "backup" %}
                                            {% set fndBkpIp = 0 %}
                                            <tr><th colspan="2">IPV4 Backup IP Details</th></tr>
                                            <tr><td width="35%">IPv4 Backup Address :</td><td>{{ ip.address }}</td></tr>
                                      {% endif %}
                                      {% if ip.ipType == "multicast" %}
                                           {% set fndMulticastIp = 0 %}
                                           <tr><th colspan="2">IPV4 Multicast IP Details</th></tr>
                                           <tr><td width="35%">IPv4 Multicast Address :</td><td>{{ ip.address }}</td></tr>
                                      {% endif %}
                                      {% if ip.ipType == "jgroup" %}
                                          {% set fndJgroupIp = 0 %}
                                          <tr><th colspan="2">IPV4 JGroup IP Details</th></tr>
                                          <tr><td width="35%">IPv4 JGroup Address :</td><td>{{ ip.address }}</td></tr>
                                      {% endif %}
                                  {% endif %}
                                {% endfor %}
                                {% if fndInternalIp != 0 %}
                                     <tr><th colspan="2">IPV4 Internal IP Details</th></tr>
                                     <tr><td width="35%">IPv4 Internal Address :</td><td>Not Assigned</td></tr>
                                {% endif %}
                                {% if fndStgIp != 0 %}
                                        <tr><th colspan="2">IPV4 Storage IP Details</th></tr>
                                        <tr><td width="35%">IPv4 Storage Address :</td><td>Not Assigned</td></tr>
                                {% endif %}
                                {% if fndBkpIp != 0 %}
                                       <tr><th colspan="2">IPV4 Backup IP Details</th></tr>
                                       <tr><td width="35%">IPv4 Backup Address :</td><td>Not Assigned</td></tr>
                                {% endif %}
                             {% if "SVC" not in s.node_type and "SCP" not in s.node_type and "DB" not in s.node_type %}
                                   {% if fndMulticastIp != 0 and fndJgroupIp != 0 %}
                                      <tr><th colspan="2">IPV4 Multicast (jGroup) VLAN Details</th></tr>
                                      <tr><td width="35%">IPv4 Multicast Vlan Address :</td><td>Not Assigned</td></tr>
                                   {% endif %}
                              {% else %}
                                    {% if fndJgroupIp != 0 %}
                                        <tr><th colspan="2">IPV4 JGroup IP Details</th></tr>
                                        <tr><td width="35%">IPv4 JGroup Address :</td><td>{{ ip.address }}</td></tr>
                                     {% endif %}
                                 {% endif %}
                                {% endif %}
                           {% endif %}
                        {% endfor %}

                        {% for i in ilos %}
                            {% if i.server__hostname == s.server__hostname %}
                                <tr><th colspan="2">ILO Info</th></tr>
                                <tr><td width="35%">ILO Username:</td><td>{{i.username}}</td></tr>
                                <tr><td width="35%">ILO Password:</td><td>{{i.password|passwordHide}}</td></tr>
                                <tr><td width="35%">ILO Address:</td><td><a href="http://{{i.ipMapIloAddress__address}}">Link</a></td></tr>
                            {% endif %}
                            {% endfor %}
                        {% if "SVC" in s.node_type %}
                         <tr>
                             <th colspan="2">VLAN Multicast Details
                                 {% if userPerms %}
                                 <a class="vm-div-add" href="/dmt/{{s.id}}/vlanMulticast/add/">
                                     <img src="/static/images/create.png" title="Create VLAN Multicast" />
                                 </a>
                                 {% else %}
                                   <img class="vm-div-add" src="/static/images/nocreate.png" title="No Permission to create a VLAN Multicast" />
                                 {% endif %}
                             </th>
                         </tr>
                         <tr>
                             <td colspan="2">
                                  <table class="deployment-table">
                          {% for vlanMulti in vlanMulticast %}
                            {% if vlanMulti.clusterServer__id == s.id %}
                                  <tr><th colspan="2">{{ vlanMulti.multicast_type__name}} - {{ vlanMulti.multicast_type__description}}
                                   <div class="table-actions">
                                    {% if userPerms %}
                                        <a class="img" href="/dmt/{{s.id}}/vlanMulticast/edit/?multicast_type={{ vlanMulti.multicast_type__name}}">
                                            <img src="/static/images/edit.png" title="Edit Vlan Multicast: {{ vlanMulti.multicast_type__name}} - {{ vlanMulti.multicast_type__description}}" />
                                        </a>
                                    {% else %}
                                        <img class="img" src="/static/images/noedit.png" title="No permission to edit VLAN Multicast" />
                                    {% endif %}
                                </div>
                                 </th></tr>
                                  <tr><td width="35%">Multicast Snooping:</td><td>{{ vlanMulti.multicast_snooping}}</td></tr>
                                  <tr><td width="35%">Multicast Querier:</td><td>{{ vlanMulti.multicast_querier}}</td></tr>
                                  <tr><td width="35%">Multicast Router:</td><td>{{ vlanMulti.multicast_router}}</td></tr>
                                  <tr><td width="35%">Hash Max:</td><td>{{ vlanMulti.hash_max}}</td></tr>
                            {% endif %}
                          {% endfor %}
                            </table>
                           </td>
                         </tr>
                        {% endif %}
                    </table>
        {% set showVMinfo = 0 %}
        {% if s.node_type in showServicesNodeList %}
            {% set showVMinfo = 1 %}
        {% endif %}
        {% set excludeVMinfo = 0 %}
        {% if s.node_type == "DB1" or s.node_type == "DB2" %}
            {% set excludeVMinfo = 1 %}
        {% endif %}
        {% if showVMinfo == 1 and excludeVMinfo == 0 %}
        <div class="vm-div"><b>Services</b>
            {% if userPerms %}
                <a class="vm-div-add" href="/dmt/add/virtualImage/{{ cluster.id }}/virtualImageType_{{ s.node_type }}">
                   <img src="/static/images/create.png" title="Create Virtual Server" />
                </a>
            {% else %}
                <img class="vm-div-add" src="/static/images/nocreate.png" title="No Permission to create a Virtual Server" />
            {% endif %}
        </div>
        <div id="accordion_{{ s.server__hostname  }}">
            {% for vm in virtualImageInfo %}
                {% if vm.virtualImage.node_list == s.node_type %}
                    <h3>{{ vm.virtualImageType }}: {{ vm.virtualImage.name }}</h3>
                    <div>
                        <table class="deployment-server-table">
                            <tr>
                                <th class="title" colspan=2>
                                <div class="table-actions">
                                    {% if userPerms %}
                                        <a class="img" href="/dmt/edit/virtualImage/{{ cluster.id }}/{{ vm.virtualImage.name }}/">
                                            <img src="/static/images/edit.png" title="Edit Virtual Image: {{ vm.virtualImage.name }}" />
                                        </a>
                                        <a class="img" href="javascript:void(0)"
                                            onClick="checkAction('Do you really want to delete Service Group {{ vm.virtualImage.name }}?',
                                                '/dmt/delete/virtualImage/{{ cluster.id }}/{{ vm.virtualImage.name }}/')">
                                            <img src="/static/images/delete.png" title="Delete Virtual Image: {{ vm.virtualImage.name }}" />
                                        </a>
                                    {% else %}
                                        <img class="img"  src="/static/images/noedit.png" title="No permission to edit Service" />
                                        <img class="img" src="/static/images/nodelete.png" title="No permission to delete Service" />
                                    {% endif %}
                                </div>
                                </th>
                            </tr>
                            <tr>
                                <th width=50%>Node List</th><td>{{ vm.virtualImage.node_list }}</td>
                            </tr>
                            <tr>
                                <th>Credentials
                                    <div class="table-actions">
                                        {% if userPerms %}
                                            <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/credential/">
                                                <img src="/static/images/create.png" title="Add Virtual Image Credentials: {{ vm.virtualImage.name }}" />
                                            </a>
                                        {% else %}
                                            <img src="/static/images/nocreate.png" title="No Permission to Add Virtual Image Credentials" />
                                        {% endif %}
                                   </div>
                            </th>
                            <td>
                                <table class="deployment-server-table">
                                   {% set fndCred = 0 %}
                                   {% for cred in vm.credentialsList %}
                                    {% if fndCred != 1 %}
                                        {% if cred.virtualimage_id == vm.virtualImage.id %}
                                          {% set fndCred = 1 %}
                                          <tr>
                                               <th>Username</th><th>Password</th><th>Type</th><th>Options</th>
                                          </tr>
                                        {% endif %}
                                    {% endif %}
                                   {% endfor %}
                                   {% for cred in vm.credentialsList %}
                                       {% if cred.virtualimage_id == vm.virtualImage.id %}
                                           <tr>
                                               <td>{{cred.credentials__username}}</td>
                                               <td>{{cred.credentials__password|passwordHide}}</td>
                                               <td>{{cred.credentials__credentialType}}</td>
                                               <td>
                                                   {% if userPerms %}
                                                        <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/edit/credential/{{ cred.credentials__id }}/">
                                                           <img src="/static/images/edit.png" title="Edit Virtual Image Credentials: {{ vm.virtualImage.name }}" height="18" width="18"/></a>
                                                        <a class="img" href="javascript:void(0)"
                                                            onClick="checkAction('Do you really want to delete the virtual image credentials within {{ vm.virtualImage.name }}?',
                                                            '/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/delete/credential/{{ cred.credentials__id }}/')">
                                                        <img src="/static/images/delete.png" title="Delete Virtual Image credentials within: {{ vm.virtualImage.name }}" height="18" width="18"/>
                                                        </a>
                                                    {% else %}
                                                        <img src="/static/images/noedit.png" title="No Permission to Edit Virtual Image Credentials" height="18" width="18"/>
                                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Virtual Image credentials" height="18" width="18"/>
                                                    {% endif %}
                                               </td>
                                            </tr>
                                        {% endif %}
                                    {% endfor %}
                                </table>
                            </td>
                            </tr>
                        </table>
                        <table class="deployment-server-table">
                            <tr>
                                <th colspan=6 class="title">
                                    <div class="table-title">Public IPv4</div>
                                    <div class="table-actions">
                                        {% if userPerms %}
                                            {% if vm.vmIpPublicObj %}
                                                <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                            {% else %}
                                            <a class="img" href='/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/public/no/'>
                                                <img src="/static/images/create.png" title="Add Virtual Image IP info to {{ vm.virtualImage.name }}" />
                                            </a>
                                            {% endif %}
                                        {% else %}
                                            <img class="img" src="/static/images/nocreate.png" title="No Permissions to create a Virtual Image IP"/>
                                        {% endif %}
                                    </div>
                                </th>
                             </tr>
                                {% if vm.vmIpPublicObj %}
                                    <tr>
                                        <th width="25%">Number</th>
                                        <th width="25%">Hostname</th>
                                        <th width="25%">IPv4</th>
                                        <th width="25%">Options</th>
                                    </tr>
                                    {% for ip in vm.vmIpPublicObj %}
                                            <tr>
                                                <td>{{ ip.number }}</td>
                                                {% if ip.hostname != None %}
                                                    <td>{{ ip.hostname }}</td>
                                                {% else %}
                                                    <td>Not Assigned</td>
                                                {% endif %}
                                                <td>{{ ip.ipMap__address }}</td>
                                                <td>
                                                    {% if userPerms %}
                                                        <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ ip.id }}/edit/public/yes/">
                                                            <img src="/static/images/edit.png" />
                                                        </a>
                                                        <a class="img" href="javascript:void(0)"
                                                            onCLick="checkAction('Do you really want to Delete this Public Virtual Image IP of {{ vm.virtualImage.name }}?', '/dmt/{{ cluster.id }}/virtualImage/{{ ip.id }}/delete/public/')">
                                                           <img src="/static/images/delete.png" title="Delete Public Virtual image IP {{ ip.number }}" />
                                                        </a>
                                                    {% else %}
                                                        <img src="/static/images/noedit.png" title="No Permsiion to Edit Public Virtual image IP"/>
                                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Public Virtual image IP" />
                                                    {% endif %}
                                                </td>
                                            </tr>
                                    {% endfor %}
                                {% endif %}
                        </table>
                        <table class="deployment-server-table">
                            <tr>
                                <th colspan=6 class="title">
                                    <div class="table-title">Public IPv6</div>
                                    <div class="table-actions">
                                    {% if userPerms %}
                                        {% if vm.vmIpPublicIpv6Obj %}
                                            <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                        {% else %}
                                            <a class="img" href='/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/ipv6Public/no/'>
                                                <img src="/static/images/create.png" title="Add Virtual Image IP info to {{ vm.virtualImage.name }}" />
                                            </a>
                                        {% endif %}
                                    {% else %}
                                            <img src="/static/images/nocreate.png" title="No Permission" />
                                    {% endif %}
                                    </div>
                                </th>
                             </tr>
                                {% if vm.vmIpPublicIpv6Obj %}
                                    <tr>
                                        <th width="25%">Number</th>
                                        <th width="25%">Hostname</th>
                                        <th width="25%">IPv6</th>
                                        <th width="25%">Options</th>
                                    </tr>
                                    {% for ip in vm.vmIpPublicIpv6Obj %}
                                            <tr>
                                                <td>{{ ip.number }}</td>
                                                {% if ip.hostname != None %}
                                                    <td>{{ ip.hostname }}</td>
                                                {% else %}
                                                    <td>Not Assigned</td>
                                                {% endif %}
                                                <td>{{ ip.ipMap__ipv6_address }}</td>
                                                <td>
                                                    {% if userPerms %}
                                                        <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ ip.id }}/edit/ipv6Public/yes/">
                                                            <img src="/static/images/edit.png" />
                                                        </a>
                                                        <a class="img" href="javascript:void(0)"
                                                            onCLick="checkAction('Do you really want to Delete this Public Virtual Image IP of {{ vm.virtualImage.name }}?', '/dmt/{{ cluster.id }}/virtualImage/{{ ip.id }}/delete/ipv6Public/')">
                                                           <img src="/static/images/delete.png" title="Delete Public Virtual image IP {{ ip.number }}" />
                                                        </a>
                                                    {% else %}
                                                        <img src="/static/images/noedit.png" title="No Permsiion to Edit Public Ipv6 Virtual image IP"/>
                                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Public Ipv6 Virtual image IP" />
                                                    {% endif %}
                                                </td>
                                            </tr>
                                    {% endfor %}
                                {% endif %}
                        </table>
                        <table class="deployment-server-table">
                            <tr>
                                <th colspan=6 class="title">
                                    <div class="table-title">Storage IP(s)</div>
                                    <div class="table-actions">
                                        {% if userPerms %}
                                            {% if vm.vmIpStorageObj %}
                                                <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                            {% else %}
                                                <a class="img" href='/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/storage/no/'>
                                                <img src="/static/images/create.png" title="Add Virtual Image IP info to {{ vm.virtualImage.name }}" />
                                            </a>
                                            {% endif %}
                                        {% else %}
                                            <img src="/static/images/nocreate.png" title="No Permission" />
                                        {% endif %}
                                    </div>
                                </th>
                             </tr>
                                {% if vm.vmIpStorageObj %}
                                    <tr>
                                        <th width="25%">Number</th>
                                        <th width="25%">Hostname</th>
                                        <th width="25%">IPv4</th>
                                        <th width="25%">Options</th>
                                    </tr>
                                    {% for ip in vm.vmIpStorageObj %}
                                            <tr>
                                                <td>{{ ip.number }}</td>
                                                {% if ip.hostname != None %}
                                                    <td>{{ ip.hostname }}</td>
                                                {% else %}
                                                    <td>Not Assigned</td>
                                                {% endif %}
                                                <td>{{ ip.ipMap__address }}</td>
                                                <td>
                                                    {% if userPerms %}
                                                        <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ ip.id }}/edit/storage/yes/">
                                                            <img src="/static/images/edit.png" />
                                                        </a>
                                                        <a class="img" href="javascript:void(0)"
                                                            onCLick="checkAction('Do you really want to Delete this Storage Virtual Image IP of {{ vm.virtualImage.name }}?', '/dmt/{{ cluster.id }}/virtualImage/{{ ip.id }}/delete/storage/')">
                                                           <img src="/static/images/delete.png" title="Delete Storage Virtual image IP {{ ip.number }}" />
                                                        </a>
                                                    {% else %}
                                                        <img src="/static/images/noedit.png" title="No Permsiion to Edit Storage Virtual image IP"/>
                                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Storage Virtual image IP" />
                                                    {% endif %}
                                                </td>
                                            </tr>
                                    {% endfor %}
                                {% endif %}
                            </table>
                            <table class="deployment-server-table">
                                <tr>
                                    <th colspan=6 class="title">
                                        <div class="table-title">Internal IPv4</div>
                                        <div class="table-actions">
                                        {% if userPerms %}
                                            {% if vm.vmIpInternalObj %}
                                                <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                            {% else %}
                                                <a class="img" href='/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/internal/yes/'>
                                                <img src="/static/images/create.png" title="Add Virtual Image IP info to {{ vm.virtualImage.name }}" />
                                                </a>
                                            {% endif %}
                                        {% else %}
                                            <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                        {% endif %}
                                        </div>
                                    </th>
                                </tr>
                                    {% if vm.vmIpInternalObj %}
                                        <tr>
                                            <th width="25%">Number</th>
                                            <th width="25%">Hostname</th>
                                            <th width="25%">IPv4</th>
                                            <th width="25%">Options</th>
                                        </tr>
                                        {% for ip in vm.vmIpInternalObj %}
                                                <tr>
                                                    <td>{{ ip.number }}</td>
                                                    {% if ip.hostname != None and ip.hostname != "" %}
                                                        <td>{{ ip.hostname }}</td>
                                                    {% else %}
                                                        <td>Not Assigned</td>
                                                    {% endif %}
                                                    <td>{{ ip.ipMap__address }}</td>
                                                    <td>
                                                        {% if userPerms %}
                                                            <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ ip.id }}/edit/internal/yes/">
                                                                <img src="/static/images/edit.png" />
                                                            </a>
                                                            <a class="img" href="javascript:void(0)"
                                                                onCLick="checkAction('Do you really want to Delete this Internal Virtual Image IP of {{ vm.virtualImage.name }}?', '/dmt/{{ cluster.id }}/virtualImage/{{ ip.id }}/delete/internal/')">
                                                               <img src="/static/images/delete.png" title="Delete Internal Virtual image IP {{ ip.number }}" />
                                                            </a>
                                                        {% else %}
                                                            <img src="/static/images/noedit.png" title="No Permsiion to Edit Internal IPv4 Virtual image IP"/>
                                                            <img src="/static/images/nodelete.png" title="No Permission to Delete Internal IPv4 Virtual image IP" />
                                                        {% endif %}
                                                    </td>
                                                </tr>
                                        {% endfor %}
                                    {% endif %}
                            </table>
                            <table class="deployment-server-table">
                                <tr>
                                    <th colspan=6 class="title">
                                        <div class="table-title">Internal IPv6</div>
                                        <div class="table-actions">
                                        {% if userPerms %}
                                            {% if vm.vmIpInternalIpv6Obj %}
                                                <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                            {% else %}
                                                <a class="img" href='/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/ipv6Internal/yes/'>
                                                <img src="/static/images/create.png" title="Add Virtual Image IP info to {{ vm.virtualImage.name }}" />
                                                </a>
                                            {% endif %}
                                        {% else %}
                                            <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                        {% endif %}
                                        </div>
                                    </th>
                                </tr>
                                    {% if vm.vmIpInternalIpv6Obj %}
                                        <tr>
                                            <th width="25%">Number</th>
                                            <th width="25%">Hostname</th>
                                            <th width="25%">IPv6</th>
                                            <th width="25%">Options</th>
                                        </tr>
                                        {% for ip in vm.vmIpInternalIpv6Obj %}
                                                <tr>
                                                    <td>{{ ip.number }}</td>
                                                    {% if ip.hostname != None and ip.hostname != "" %}
                                                        <td>{{ ip.hostname }}</td>
                                                    {% else %}
                                                        <td>Not Assigned</td>
                                                    {% endif %}
                                                    <td>{{ ip.ipMap__ipv6_address }}</td>
                                                    <td>
                                                        {% if userPerms %}
                                                            <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ ip.id }}/edit/ipv6Internal/yes/">
                                                                <img src="/static/images/edit.png" />
                                                            </a>
                                                            <a class="img" href="javascript:void(0)"
                                                                onCLick="checkAction('Do you really want to Delete this Internal IPv6 Virtual Image IP of {{ vm.virtualImage.name }}?', '/dmt/{{ cluster.id }}/virtualImage/{{ ip.id }}/delete/ipv6Internal/')">
                                                               <img src="/static/images/delete.png" title="Delete Internal IPv6 Virtual image IP {{ ip.number }}" />
                                                            </a>
                                                        {% else %}
                                                            <img src="/static/images/noedit.png" title="No Permsiion to Edit Internal IPv6 Virtual image IP"/>
                                                            <img src="/static/images/nodelete.png" title="No Permission to Delete Internal IPv6 Virtual image IP" />
                                                        {% endif %}
                                                    </td>
                                                </tr>
                                        {% endfor %}
                                    {% endif %}
                            </table>
                            <table class="deployment-server-table">
                                <tr>
                                    <th colspan=6 class="title">
                                        <div class="table-title">JGroup (Multicast) IP(s)</div>
                                        <div class="table-actions">
                                        {% if userPerms %}
                                            {% if vm.vmIpJGroupObj %}
                                                <img src="/static/images/nocreate.png" title="IP already assigned, use Edit to change" />
                                            {% else %}
                                                <a class="img" href='/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ vm.virtualImage.id }}/add/jgroup/yes/'>
                                                <img src="/static/images/create.png" title="Add Virtual Image IP info to {{ vm.virtualImage.name }}" />
                                                </a>
                                            {% endif %}
                                        {% else %}
                                            <img src="/static/images/nocreate.png" title="No Permission" />
                                        {% endif %}
                                        </div>
                                    </th>
                                 </tr>
                                    {% if vm.vmIpJGroupObj %}
                                        <tr>
                                            <th width="25%">Number</th>
                                            <th width="25%">Hostname</th>
                                            <th width="25%">IPv4</th>
                                            <th width="25%">Options</th>
                                        </tr>
                                        {% for ip in vm.vmIpJGroupObj %}
                                                <tr>
                                                    <td>{{ ip.number }}</td>
                                                    {% if ip.hostname != None %}
                                                        <td>{{ ip.hostname }}</td>
                                                    {% else %}
                                                        <td>Not Assigned</td>
                                                    {% endif %}
                                                    <td>{{ ip.ipMap__address }}</td>
                                                    <td>
                                                        {% if userPerms %}
                                                            <a class="img" href="/dmt/{{ cluster.id }}/virtualImage/{{ vm.virtualImage.name }}/{{ ip.id }}/edit/jgroup/yes/">
                                                                <img src="/static/images/edit.png" />
                                                            </a>
                                                            <a class="img" href="javascript:void(0)"
                                                                onCLick="checkAction('Do you really want to Delete this jgroup Virtual Image IP of {{ vm.virtualImage.name }}?', '/dmt/{{ cluster.id }}/virtualImage/{{ ip.id }}/delete/jgroup/')">
                                                               <img src="/static/images/delete.png" title="Delete jgroup Virtual image IP {{ ip.number }}" />
                                                            </a>
                                                        {% else %}
                                                            <img src="/static/images/noedit.png" title="No Permsiion to Edit jgroup Virtual image IP"/>
                                                            <img src="/static/images/nodelete.png" title="No Permission to Delete jgroup Virtual image IP" />
                                                        {% endif %}
                                                    </td>
                                                </tr>
                                        {% endfor %}
                                    {% endif %}
                            </table>
                         </div>
                    {% endif %}
                {% endfor %}
            </div>
    {% endif %}
    </div>
    {% endfor %}
    </div>
    {% endif %}
  </div>
    <br>
  <div class="full-sub-details">
    <table width="100%">
        <tr>
            <th class="title">
                <div class="table-title">Additional Information</div>
            </th>
        </tr>
    </table>

    {% if vlanClusterMulticast %}
    <div id="accordionVlanMultiCast">
        <h3>VLAN Cluster Multicast Details</h3>
        <div>
            <table class="deployment-server-table">
                <tr>
                    <th colspan="2">VLAN Cluster Multicast Details
                        {% if userPerms %}
                        <a class="table-actions" href="javascript:void(0)"
                                onClick="checkAction('Do you really want to delete the VLAN Cluster Multicast info for {{ cluster.name }}?',
                                '/dmt/{{ cluster.id }}/vlanClusterMulticast/delete/')">
                        <img src="/static/images/delete.png" title="Delete VLAN Cluster Multicast for Deployment {{ cluster.name }}" />
                        </a>
                        <a class="table-actions" href="/dmt/{{cluster.id}}/vlanClusterMulticast/add/">
                            <img src="/static/images/create.png" title="Create VLAN Multicast" />
                        </a>
                        {% else %}
                    <a class="table-actions">
                        <img src="/static/images/nocreate.png" title="No Permission to create a VLAN Multicast" />
                        </a>
                        {% endif %}
                    </th>
                </tr><tr></tr>
                <tr>
                    <td colspan="2">
                        <table class="deployment-table">
                            {% for vlanClusterMulti in vlanClusterMulticast %}
                                {% if vlanClusterMulti.cluster__id ==  cluster.id %}
                                    <tr><th colspan="2">{{ vlanClusterMulti.multicast_type__name}} - {{ vlanClusterMulti.multicast_type__description}}
                                    <div class="table-actions">
                                        {% if userPerms %}
                                            <a class="img" href="/dmt/{{ cluster.id }}/vlanClusterMulticast/edit/?multicast_type={{ vlanClusterMulti.multicast_type__name}}">
                                                <img src="/static/images/edit.png" title="Edit Vlan Multicast: {{ vlanClusterMulti.multicast_type__name}} - {{ vlanClusterMulti.multicast_type__description}}" />
                                            </a>
                                        {% else %}
                                            <a class="img">
                                                <img src="/static/images/noedit.png" title="No permission to edit VLAN Multicast" />
                                            </a>
                                        {% endif %}
                                    </div>
                                    </th></tr>
                                    <tr><td width="35%">Multicast Snooping:</td><td>{{ vlanClusterMulti.multicast_snooping}}</td></tr>
                                    <tr><td width="35%">Multicast Querier:</td><td>{{ vlanClusterMulti.multicast_querier}}</td></tr>
                                    <tr><td width="35%">Multicast Router:</td><td>{{ vlanClusterMulti.multicast_router}}</td></tr>
                                    <tr><td width="35%">Hash Max:</td><td>{{ vlanClusterMulti.hash_max}}</td></tr>
                            {% endif %}
                    {% endfor %}
                </table>
                </td>
                </tr>
            </table>
        </div>
    </div>
    {% endif %}

    {% if clusterMulticast %}
    <div id="accordionMultiCast">
        <h3>Multicast Information</h3>
        <div>
            <table class="deployment-server-table">
              <tr>
                <th class="title" colspan=3>
                    <div class="table-title">Multicast Information</div>
                        <div class="table-actions">
                            {% set found = 0 %}
                            {% if clusterMulticast %}
                                {% for m in clusterMulticast %}
                                    {% if userPerms %}
                                        <a class="img" href='/dmt/{{ cluster.id }}/multicast/edit/yes/'>
                                            <img src="/static/images/edit.png" title="Modify Multicast info for {{ cluster.name }}" />
                                        </a>
                                        <a class="img" href="javascript:void(0)"
                                                onClick="checkAction('Do you really want to delete the Multicast info for {{ cluster.name }}?',
                                                '/dmt/{{ cluster.id }}/multicast/delete/')">
                                            <img src="/static/images/delete.png" title="Delete Multifast for Deployment {{ cluster.name }}" />
                                        </a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="No Permission to Modify Multicast info" />
                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Multifast info" />
                                    {% endif %}
                                    {% set found = 1 %}
                                {% endfor %}
                            {% endif %}
                            {% if found == 0 %}
                                {% if userPerms %}
                                    <a class="img" href='/dmt/{{ cluster.id }}/multicast/add/yes/'>
                                        <img src="/static/images/create.png" title="Create Multicast info for Deployment {{ cluster.name }}" />
                                    </a>
                                {% else %}
                                    <img src="/static/images/nocreate.png" title="No Permsiion to Create Multicast info for Deployment" />
                                {% endif %}
                            {% endif %}
                        </div>
                   </th>
                </tr>
                {% for m in clusterMulticast %}
                    <tr><th>Type</th><th>Address</th><th>Port</th></tr>
                    <tr>
                    <th width="33%">ENM Messaging Group</th>
                        <td>{{ m.enm_messaging_address.address }}</td>
                        <td>{{ m.enm_messaging_port }}</td>
                    </tr>
                    <tr>
                        <th>UDP Multicast</th>
                        <td>{{ m.udp_multicast_address.address }}</td>
                        <td>{{ m.udp_multicast_port }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
        </div>
    {% endif %}

   {% if databaseVip %}
    <div id="accordionDatabaseVip">
        <h3>Database VIP Information</h3>
        <div>
            <table class="deployment-server-table">
              <tr>
                <th class="title" colspan=2>
                    <div class="table-title">Database VIP Information</div>
                        <div class="table-actions">
                            {% set found = 0 %}
                            {% if databaseVip %}
                                {% for vip in databaseVip %}
                                    {% if userPerms %}
                                        <a class="img" href='/dmt/{{ cluster.id }}/databaseVip/edit/'>
                                            <img src="/static/images/edit.png" title="Modify Database VIP info for {{ cluster.name }}" />
                                        </a>
                                        <a class="img" href="javascript:void(0)"
                                                onClick="checkAction('Do you really want to delete the Database VIP info for {{ cluster.name }}?',
                                                '/dmt/{{ cluster.id }}/deleteDatabaseVip/delete/')">
                                            <img src="/static/images/delete.png" title="Delete Database VIP info for Deployment {{ cluster.name }}" />
                                        </a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="No Permission to Modify Database VIP info" />
                                        <img src="/static/images/nodelete.png" title="NO Permission to Delete Database VIP info" />
                                    {% endif %}
                                    {% set found = 1 %}
                                {% endfor %}
                            {% endif %}
                            {% if found == 0 %}
                                {% if userPerms %}
                                    <a class="img" href='/dmt/{{ cluster.id }}/databaseVip/add/'>
                                        <img src="/static/images/create.png" title="Create Database VIP info for Deployment {{ cluster.name }}" />
                                    </a>
                                {% else %}
                                    <img src="/static/images/nocreate.png" title="No Permission to Create Database VIP info" />
                                {% endif %}
                            {% endif %}
                        </div>
                   </th>
                </tr>
                {% for vip in databaseVip %}
                    <tr><th>Type</th><th>Address</th></tr>
                    <tr>
                        <th>Postgres</th>
                        <td>{{ vip.postgres_address__address }}</td>
                    </tr>
                    <tr>
                        <th>Versant</th>
                        <td>{{ vip.versant_address__address }}</td>
                    </tr>
                    <tr>
                        <th>Mysql</th>
                        <td>{{ vip.mysql_address__address }}</td>
                    </tr>
                    <tr>
                        <th>Opendj IP Address 1(HA)</th>
                        <td>{{ vip.opendj_address__address }}</td>
                    </tr>
                    <tr>
                        <th>Opendj IP Address 2(HA)</th>
                        <td>{{ vip.opendj_address2__address }}</td>
                    </tr>
                    <tr>
                        <th>JMS</th>
                        {% if vip.jms_address__address != None %}
                            <td>{{ vip.jms_address__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Elastic Search</th>
                        {% if vip.eSearch_address__address != None %}
                            <td>{{ vip.eSearch_address__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Neo4J IP Address 1</th>
                        {% if vip.neo4j_address1__address != None %}
                            <td>{{ vip.neo4j_address1__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Neo4J IP Address 2</th>
                        {% if vip.neo4j_address2__address != None %}
                            <td>{{ vip.neo4j_address2__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Neo4J IP Address 3</th>
                        {% if vip.neo4j_address3__address != None %}
                            <td>{{ vip.neo4j_address3__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Gossip Router Address 1</th>
                        {% if vip.gossipRouter_address1__address != None %}
                            <td>{{ vip.gossipRouter_address1__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Gossip Router Address 2</th>
                        {% if vip.gossipRouter_address2__address != None %}
                            <td>{{ vip.gossipRouter_address2__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                    <tr>
                        <th>Eshistory IP Address</th>
                        {% if vip.eshistory_address__address != None %}
                            <td>{{ vip.eshistory_address__address }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                     </tr>

                {% endfor %}
            </table>
        </div>
        </div>
    {% endif %}

    {% if lvsrouterVip %}
    <div id="accordionlvsrouterVip">
        <h3>LVS Router VIP Information</h3>
        <div>
            <table class="deployment-server-table">
              <tr>
                <th class="title" colspan=2>
                    <div class="table-title">LVS Router VIP Information</div>
                        <div class="table-actions">
                            {% set found = 0 %}
                                {% for vip in lvsrouterVip %}
                                    {% if userPerms %}
                                        <a class="img" href='/dmt/{{ cluster.id }}/lvsrouterVip/edit/'>
                                            <img src="/static/images/edit.png" title="Modify LVS Router VIP info for {{ cluster.name }}" />
                                        </a>
                                        <a class="img" href="javascript:void(0)"
                                                onClick="checkAction('Do you really want to delete the LVS Router VIP info for {{ cluster.name }}?',
                                                '/dmt/{{ cluster.id }}/lvsrouterVip/delete/')">
                                            <img src="/static/images/delete.png" title="Delete LVS Router VIP info for Deployment {{ cluster.name }}" />
                                        </a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="No Permission to Modify LVS Router VIP info" />
                                        <img src="/static/images/nodelete.png" title="NO Permission to Delete LVS Router VIP info" />
                                    {% endif %}
                                    {% set found = 1 %}
                                {% endfor %}
                            {% if found == 0 %}
                                {% if userPerms %}
                                    <a class="img" href='/dmt/{{ cluster.id }}/lvsrouterVip/add/'>
                                        <img src="/static/images/create.png" title="Create LVS Router VIP info for Deployment {{ cluster.name }}" />
                                    </a>
                                {% else %}
                                    <img src="/static/images/nocreate.png" title="No Permission to Create LVS Router VIP info" />
                                {% endif %}
                            {% endif %}
                       </div>
                  </th>
                </tr>
                {% for vip in lvsrouterVip %}
                    <tr><th colspan="2" style="font-size:16px">Services VIPs</th></tr>
                    <tr>
                        <td>Service PM Internal VIP IPv4</td>
                        <td>{{ vip.pm_internal__address }}</td>
                    </tr>
                    <tr>
                        <td>Service PM External VIP IPv4</td>
                        <td>{{ vip.pm_external__address }}</td>
                    </tr>
                    <tr>
                        <td>Service PM External VIP IPv6</td>
                        {% if vip.svc_pm_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.svc_pm_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Service FM Internal VIP IPv4</td>
                        <td>{{ vip.fm_internal__address }}</td>
                    </tr>
                    <tr>
                        <td>Service FM External VIP IPv4</td>
                        <td>{{ vip.fm_external__address }}</td>
                    </tr>
                    <tr>
                        <td>Service FM Internal VIP IPv6</td>
                        <td>{{ vip.fm_internal_ipv6__ipv6_address }}</td>
                    </tr>
                    <tr>
                        <td>Service FM External VIP IPv6</td>
                        <td>{{ vip.fm_external_ipv6__ipv6_address }}</td>
                    </tr>
                     <tr>
                        <td>Service CM Internal VIP IPv4</td>
                        <td>{{ vip.cm_internal__address }}</td>
                    </tr>
                    <tr>
                        <td>Service CM External VIP IPv4</td>
                        <td>{{ vip.cm_external__address }}</td>
                    </tr>
                    <tr>
                        <td>Service CM Internal VIP IPv6</td>
                        <td>{{ vip.cm_internal_ipv6__ipv6_address }}</td>
                    </tr>
                    <tr>
                        <td>Service CM External VIP IPv6</td>
                        <td>{{ vip.cm_external_ipv6__ipv6_address }}</td>
                    </tr>
                    <tr>
                        <td>Service PM Storage IPv4</td>
                        <td>{{ vip.svc_pm_storage__address }}</td>
                    </tr>
                    <tr>
                        <td>Service FM Storage IPv4</td>
                        <td>{{ vip.svc_fm_storage__address }}</td>
                    </tr>
                    <tr>
                        <td>Service CM Storage IPv4</td>
                        <td>{{ vip.svc_cm_storage__address }}</td>
                    </tr>
                    <tr>
                        <td>Service Storage Gateway Internal IPv4</td>
                        <td>{{ vip.svc_storage_internal__address }}</td>
                    </tr>
                    <tr>
                        <td>Service Storage IPv4</td>
                        <td>{{ vip.svc_storage__address }}</td>
                    </tr>
                    <tr>
                        <td>Service MSOSSFM Internal IPv4</td>
                        {% if vip.msossfm_internal__address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.msossfm_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Service MSOSSFM External IPv4</td>
                        {% if vip.msossfm_external__address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.msossfm_external__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Service MSOSSFM Internal IPv6</td>
                        {% if vip.msossfm_internal_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.msossfm_internal_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Service MSOSSFM External IPv6</td>
                        {% if vip.msossfm_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.msossfm_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr><th colspan="2" style="font-size:16px">Scripting VIPs</th></tr>
                    <tr>
                        <td>Scripting SCP Internal VIP IPv4</td>
                        {% if vip.scp_scp_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_scp_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Scripting SCP External VIP IPv4</td>
                        {% if vip.scp_scp_external__address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_scp_external__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Scripting SCP Internal VIP IPv6</td>
                        {% if vip.scp_scp_internal_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_scp_internal_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Scripting SCP External VIP IPv6</td>
                        {% if vip.scp_scp_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_scp_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Scripting SCP Storage VIP IPv4</td>
                        {% if vip.scp_scp_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_scp_storage__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Scripting Storage Gateway Internal IPv4</td>
                        {% if vip.scp_storage_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_storage_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Scripting Storage IPv4</td>
                        {% if vip.scp_storage__address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.scp_storage__address }}</td>
                        {% endif %}
                    </tr>
                    <tr><th colspan="2" style="font-size:16px">Events VIPs</th></tr>
                     <tr>
                         <td>Events Storage Gateway Internal IPv4</td>
                         {% if vip.evt_storage_internal__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.evt_storage_internal__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>Events Storage IPv4</td>
                        {% if vip.evt_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.evt_storage__address }}</td>
                        {% endif %}
                    </tr>
                    <tr><th colspan="2" style="font-size:16px">Streaming VIPs</th></tr>
                    <tr>
                        <td>Streaming STR Services Interface</td>
                         {% if vip.str_str_if == "" or vip.str_str_if == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.str_str_if }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Internal VIP IPv4</td>
                         {% if vip.str_internal__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.str_internal__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Internal VIP IPv4 2</td>
                         {% if vip.str_str_internal_2__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.str_str_internal_2__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Internal VIP IPv4 3</td>
                         {% if vip.str_str_internal_3__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.str_str_internal_3__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR External VIP IPv4</td>
                        {% if vip.str_external__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_external__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR External VIP IPv4 2</td>
                        {% if vip.str_str_external_2__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_str_external_2__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR External VIP IPv4 3</td>
                        {% if vip.str_str_external_3__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_str_external_3__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Internal VIP IPv6</td>
                        {% if vip.str_str_internal_ipv6__ipv6_address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.str_str_internal_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Internal VIP IPv6 2</td>
                        {% if vip.str_str_internal_ipv6_2__ipv6_address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.str_str_internal_ipv6_2__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Internal VIP IPv6 3</td>
                        {% if vip.str_str_internal_ipv6_3__ipv6_address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.str_str_internal_ipv6_3__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR External VIP IPv6</td>
                        {% if vip.str_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR External VIP IPv6 2</td>
                        {% if vip.str_str_external_ipv6_2__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_str_external_ipv6_2__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR External VIP IPv6 3</td>
                        {% if vip.str_str_external_ipv6_3__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_str_external_ipv6_3__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming STR Storage IPv4</td>
                        {% if vip.str_str_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.str_str_storage__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming Storage Gateway Internal IPv4</td>
                        {% if vip.str_storage_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_storage_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>Streaming Storage IPv4</td>
                        {% if vip.str_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.str_storage__address }}</td>
                        {% endif %}
                    </tr>
                    <tr><th colspan="2" style="font-size:16px">ESN ESN VIPs</th></tr>
                    <tr>
                        <td>ESN ESN Services Interface</td>
                        {% if vip.esn_str_if == "" or vip.esn_str_if == None %}
                        <td>Not Assigned</td>
                        {% else %}
                        <td>{{ vip.esn_str_if }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ESN ESN Internal VIP IPv4</td>
                         {% if vip.esn_str_internal__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.esn_str_internal__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>ESN ESN External VIP IPv4</td>
                         {% if vip.esn_str_external__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.esn_str_external__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>ESN ESN Internal VIP IPv6</td>
                        {% if vip.esn_str_internal_ipv6__ipv6_address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.esn_str_internal_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ESN ESN External VIP IPv6</td>
                        {% if vip.esn_str_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.esn_str_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ESN ESN Storage IPv4</td>
                        {% if vip.esn_str_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.esn_str_storage__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>ESN ESN Storage Gateway Internal IPv4</td>
                        {% if vip.esn_storage_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.esn_storage_internal__address }}</td>
                        {% endif %}
                    </tr>
                     <tr><th colspan="2" style="font-size:16px">EBS VIPs</th></tr>
                     <tr>
                        <td>EBS Storage IPv4</td>
                        {% if vip.ebs_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.ebs_storage__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>EBS Storage Gateway Internal IPv4</td>
                        {% if vip.ebs_storage_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.ebs_storage_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>EBS STR External VIP IPv6</td>
                        {% if vip.ebs_str_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.ebs_str_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr><th colspan="2" style="font-size:16px">ASR VIPs</th></tr>
                    <tr>
                        <td>ASR Storage IPv4</td>
                        {% if vip.asr_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.asr_storage__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>ASR ASR Storage IPv4</td>
                        {% if vip.asr_asr_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.asr_asr_storage__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>ASR Storage Gateway Internal IPv4</td>
                        {% if vip.asr_storage_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.asr_storage_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ASR ASR External VIP IPv6</td>
                        {% if vip.asr_asr_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.asr_asr_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ASR ASR Internal VIP IPv4</td>
                         {% if vip.asr_asr_internal__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.asr_asr_internal__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>ASR ASR External VIP IPv4</td>
                         {% if vip.asr_asr_external__address == None %}
                            <td>Not Assigned</td>
                         {% else %}
                            <td>{{ vip.asr_asr_external__address }}</td>
                         {% endif %}
                     </tr>
                     <tr>
                       <th colspan="2" style="font-size:16px">EBA VIPs</th>
                     </tr>
                     <tr>
                        <td>EBA Storage IPv4</td>
                        {% if vip.eba_storage__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.eba_storage__address }}</td>
                         {% endif %}
                    </tr>
                    <tr>
                        <td>EBA Storage Gateway Internal IPv4</td>
                        {% if vip.eba_storage_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.eba_storage_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>EBA External IPv4</td>
                        {% if vip.eba_external__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.eba_external__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>EBA External IPv6</td>
                        {% if vip.eba_external_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.eba_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>EBA Internal IPv4</td>
                        {% if vip.eba_internal__address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.eba_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>EBA Internal IPv6</td>
                        {% if vip.eba_internal_ipv6__ipv6_address == None %}
                           <td>Not Assigned</td>
                        {% else %}
                           <td>{{ vip.eba_internal_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <!-- New section for ORAN VIPs -->
                    <tr>
                        <th colspan="2" style="font-size:16px">ORAN VIPs</th>
                    </tr>
                    <tr>
                        <td>ORAN Internal IPv4</td>
                        {% if vip.oran_internal__address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.oran_internal__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ORAN Internal IPv6</td>
                        {% if vip.oran_internal_ipv6__ipv6_address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.oran_internal_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ORAN External IPv4</td>
                        {% if vip.oran_external__address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.oran_external__address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>ORAN External IPv6</td>
                        {% if vip.oran_external_ipv6__ipv6_address == None %}
                            <td>Not Assigned</td>
                        {% else %}
                            <td>{{ vip.oran_external_ipv6__ipv6_address }}</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
        </div>
        </div>
    {% endif %}
    {% if hybridCloud %}
    <div id="accordionHybridCloud">
        <h3>Hybrid Cloud Information</h3>
        <div>
            <table class="deployment-server-table">
              <tr>
                <th class="title" colspan=3>
                    <div class="table-title">Hybrid Cloud Information</div>
                        <div class="table-actions">
                            {% if hybridCloud %}
                                {% for hc in hybridCloud %}
                                    {% if userPerms %}
                                        <a class="img" href='/dmt/{{ cluster.id }}/hybridCloud/edit/?ipType={{hc.ip_type}}'>
                                            <img src="/static/images/edit.png" title="Modify Hybrid Cloud info for {{ cluster.name }}" />
                                        </a>
                                        <a class="img" href="javascript:void(0)"
                                                onClick="checkAction('Do you really want to delete the Hybrid Cloud info for {{ cluster.name }}?',
                                                '/dmt/{{ cluster.id }}/hybridCloud/delete/')">
                                            <img src="/static/images/delete.png" title="Delete Hybrid Cloud for Deployment {{ cluster.name }}" />
                                        </a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="No Permission to Modify Hybrid Cloud info" />
                                        <img src="/static/images/nodelete.png" title="No Permission to Delete Hybrid Cloud info" />
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                       </div>
                   </th>
                </tr>
                {% for hc in hybridCloud %}
                    <tr>
                        <th></th>
                        {% if hc.ip_type == "ipv4" %}
                          <th style="border-style: solid; border-width: 2px; border-color: green;background:#C5EDC5;">Address IPv4 - Active </th>
                        {% else %}
                          <th>Address IPv4 </th>
                        {% endif %}
                        {% if hc.ip_type == "ipv6" %}
                          <th style="border-style: solid; border-width: 2px; border-color: green;background:#C5EDC5;">Address IPv6 - Active </th>
                        {% else %}
                          <th>Address IPv6</th>
                        {% endif %}
                    </tr>
                    <tr>
                    <th width="40%">Internal Subnet</th>
                        {% if hc.internal_subnet == None %}
                           <td></td>
                        {% else %}
                          <td>{{ hc.internal_subnet }}</td>
                        {% endif %}
                        {% if hc.internal_subnet_ipv6 == None %}
                           <td></td>
                        {% else %}
                            <td>{{ hc.internal_subnet_ipv6 }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                      <th width="40%">Gateway Private IP</th>
                        {% if hc.gateway_internal == None %}
                           <td></td>
                        {% else %}
                          <td>{{ hc.gateway_internal.address }}</td>
                        {% endif %}
                        {% if hc.gateway_internal_ipv6 == None %}
                           <td></td>
                        {% else %}
                            <td>{{ hc.gateway_internal_ipv6.ipv6_address }}</td>
                        {% endif %}
                    </tr>
                    <tr>
                      <th width="40%">Gateway Public IP</th>
                        {% if hc.gateway_external == None %}
                           <td></td>
                        {% else %}
                          <td>{{ hc.gateway_external.address }}</td>
                        {% endif %}
                        {% if hc.gateway_external_ipv6 == None %}
                           <td></td>
                        {% else %}
                            <td>{{ hc.gateway_external_ipv6.ipv6_address }}</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
        </div>
        </div>
   {% endif %}
   {% if veritas %}
    <div id="accordionVeritas">
        <h3>Veritas Information</h3>
        <div>
            <table class="deployment-server-table">
                <tr>
                    <th class="title" colspan=4>
                        <div class="table-title">Veritas Information</div>
                        <div class="table-actions">
                            {% if userPerms %}
                                <a class="img" href='/dmt/updateveritas/{{cluster.id}}/vcs/'>
                                    <img src="/static/images/edit.png" title="Edit Veritas Info" />
                                </a>
                                <a href="javascript:void(0)" onClick="checkAction('Do you really want to Delete Veritas Information?', '/dmt/deleteveritascluster/{{cluster.id}}/');">
                                    <img src="/static/images/delete.png" title="Delete Veritas Info" />
                                </a>
                            {% else %}
                                <img src="/static/images/noedit.png" title="No Permission to Edit Veritas Info" />
                                <img src="/static/images/nodelete.png" title="No Permission to Delete Veritas Info" />
                            {% endif %}
                        </div>
                    </th>
                </tr>
            </table>
            <div>
                <table class="deployment-server-table">
                    <tr>
                        <th class="title">
                            <div class="table-title">Details</div>
                        </th>
                        <th class="title">
                            <div class="table-title">Global Cluster Option (GCO)</div>
                        </th>
                        <th class="title">
                           <div class="table-title">Composite Service Group (CSG)</div>
                        </th>
                        <th class="title">
                           <div class="table-title">Low Latency Transport</div>
                        </th>
                    </tr>

                    {% for v in veritas %}
                        <tr>
                            <th>IP Address:</th>
                            <td>{{ v.ipMapGCO.address }}</td>
                            <td>{{ v.ipMapCSG.address }}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <th>Bitmask:</th>
                            <td>{{ v.ipMapGCO.bitmask }}</td>
                            <td>{{ v.ipMapCSG.bitmask }}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <th>Nic:</th>
                            <td>{{ v.gcoNic }}</td>
                            <td>{{ v.csgNic }}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <th>Low Latency Transport Link 1:</th>
                            <td></td>
                            <td></td>
                            <td>{{ v.lltLink1 }}</td>
                        </tr>
                        <tr>
                            <th>Low Latency Transport Link 2:</th>
                            <td></td>
                            <td></td>
                            <td>{{ v.lltLink2 }}</td>
                        </tr>
                        <tr>
                            <th>Low Latency Transport Priority 1:</th>
                            <td></td>
                            <td></td>
                            <td>{{ v.lltLinkLowPri1 }}</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
            <table class="deployment-server-table">
                <tr>
                   <th class="title" colspan=4>
                        <div class="table-title">Database(s) on Veritas Cluster</div>
                            <div class="table-actions">
                                {% if userPerms %}
                                    {% if databaseLocationObj %}
                                        <a class="img" href='/dmt/{{cluster.id}}/dataLocation/'>
                                            <img src="/static/images/edit.png" title="Edit location to store databases" />
                                        </a>
                                    {% else %}
                                        <a class="img" href='/dmt/{{ cluster.id }}/dataLocation/'>
                                            <img src="/static/images/create.png" title="Add database location" />
                                        </a>
                                    {% endif %}
                                {% else %}
                                    {% if databaseLocationObj %}
                                        <img src="/static/images/noedit.png" title="No Permission to Edit location to store databases" />
                                    {% else %}
                                        <img src="/static/images/nocreate.png" title="No Permission to Add database location" />
                                    {% endif %}
                                {% endif %}
                          </div>
                    </th>
               </tr>
            </table>
            {% if databaseLocationObj %}
                <div>
                    <table class="deployment-server-table">
                        <tr>
                            <th class="title">
                                <div class="table-title">Database</div>
                            </th>
                            <th class="title">
                                <div class="table-title">On Veritas Cluster</div>
                            </th>
                        </tr>
                        <tr>
                            <th width="50%">Versant stand alone Database:</th>
                            <td>{{ databaseLocationObj.versantStandAlone }}</td>
                        </tr>
                        <tr>
                            <th width="50%">MySQL stand alone Database:</th>
                            <td>{{ databaseLocationObj.mysqlStandAlone }}</td>
                        </tr>
                        <tr>
                            <th width="50%">Postgres stand alone Database:</th>
                            <td>{{ databaseLocationObj.postgresStandAlone }}</td>
                        </tr>
                    </table>
                </div>
            {% endif %}
        <br>
    </div></div>
    {% endif %}
    {% if details %}
        {% if ssoDetails %}
            <div id="accordionDetails">
                <h3>LDAP/Password Details</h3>
                <div>
                <table class="deployment-server-table">
                    <tr>
                        <th class="title">
                            <div class="table-title">LDAP/Password Details</div>
                            <div class="table-actions">
                                {% if userPerms %}
                                    <a class="img" href="/dmt/edit/ssodetails/{{cluster.id}}/">
                                        <img src="/static/images/edit.png" />
                                    </a>
                                    <a href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this extra SSO Details?', '/dmt/delete/ssodetails/{{ cluster.id }}/');">
                                        <img src="/static/images/delete.png" title="Delete Extra Info" />
                                    </a>
                                {% else %}
                                    <img src="/static/images/noedit.png" title="No Permission to Edit Extra Info"/>
                                    <img src="/static/images/nodelete.png" title="No Permission to Delete Extra Info" />
                                {% endif %}
                            </div>
                        </th>
                    </tr>
                </table>
                {% for dtls in ssoDetails %}
                    <div>
                        <table class="deployment-server-table">
                            <tr>
                                <th class="title">Component</th>
                                <th class="title">Details</th>
                            </tr>
                            <tr>
                                <th width="50%">LDAP Domain Component:</th>
                                <td>
                                   {{ dtls.ldapDomain }}
                                </td>
                            </tr>
                            <tr>
                                <th width="50%">LDAP Password:</th>
                                <td>
                                    {{ dtls.ldapPassword }}
                               </td>
                            </tr>
                            {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                <tr>
                                    <th width="50%">Opendj Admin Password:</th>
                                    <td>
                                        {{ dtls.opendjAdminPassword }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">Openidm Admin Password:</th>
                                    <td>
                                        {{ dtls.openidmAdminPassword }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">Openidm Mysql Password:</th>
                                    <td>
                                        {{ dtls.openidmMysqlPassword }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">Security Admin Password:</th>
                                    <td>
                                        {{ dtls.securityAdminPassword }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">HQ Database Password:</th>
                                    <td>
                                         {{ dtls.hqDatabasePassword }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">Brsadm Password:</th>
                                    <td>
                                         {{ dtls.brsadm_password }}
                                    </td>
                                </tr>
                            {% endif %}
                            {% if  cluster.layout.id == 3  %}
                                <tr>
                                    <th width="50%">OSS ADMIN OSS-FS Server:</th>
                                    <td>
                                        {{ dtls.ossFsServer }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">Citrix Farm:</th>
                                    <td>
                                        {{ dtls.citrixFarm }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="50%">Brsadm Password:</th>
                                    <td>
                                         {{ dtls.brsadm_password }}
                                    </td>
                                </tr>
                            {% endif %}
                        </table>
                    </div>
                {% endfor %}
             </div>
             </div>
        {% endif %}
        {% if ossrcClusterObj %}
            <div id="accordionOssrc">
                <h3>OSS-RC Attached</h3>
                    <div>
                        <table class="deployment-server-table">
                            <tr>
                                <th class="title">
                                    <div class="table-title">OSS-RC Attached Deployment</div>
                                     <div class="table-actions">
                                        {% if userPerms %}
                                            <a class="img" href="/dmt/edit/tor2ossrc/{{cluster.id}}/">
                                                <img src="/static/images/edit.png" />
                                            </a>
                                            <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this OSSRC Mapping?','/dmt/delete/tor2ossrc/{{ cluster.id }}/');">
                                                <img src="/static/images/delete.png">
                                            </a>
                                        {% else %}
                                            <img src="/static/images/noedit.png" title="No Permission to Edit Attached OSSRC System"/>
                                            <img src="/static/images/nodelete.png" title="No Permission to Delete Attached OSSRC System"/>
                                        {% endif %}
                                     </div>
                                </th>
                            </tr>
                        </table>
                        {% for cls in ossrcClusterObj %}
                            <div class=details>
                                <table class="deployment-server-table">
                                    <tr>
                                        <th class="title" colspan=2 >OSSRC Deployment Information</th>
                                    </tr>
                                    <tr>
                                        <th width="35%">Name:</th>
                                        <td>
                                             <a href="/dmt/clusters/{{ cls.ossCluster.id }}/">{{ cls.ossCluster.name }}</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th width="35%">Description:</th>
                                        <td>
                                            {{ cls.ossCluster.description }}
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        {% endfor %}
                     </div>
                 </div>
        {% endif %}
        {% if dasObject %}
            <div id="accordionDas">
                <h3>Direct Attached Storage</h3>
                <div>
                    <table class="deployment-server-table">
                    <tr>
                        <th class="title">
                            <div class="table-title">Direct Attached Storage</div>
                             <div class="table-actions">
                                {% if userPerms %}
                                    <a class="img" href="/dmt/editdas/{{cluster.id}}/">
                                        <img src="/static/images/edit.png" />
                                    </a>
                                    <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this DAS instance?','/dmt/deletedas/{{ cluster.id }}/');">
                                        <img src="/static/images/delete.png">
                                    </a>
                                {% else %}
                                    <img src="/static/images/noedit.png" title="No Permission to Edit Direct Attached Storage"/>
                                    <img src="/static/images/nodelete.png" title="No Permission to Delete Direct Attached Storage"/>
                                {% endif %}
                             </div>
                        </th>
                    </tr>
                </table>
                {% for das in dasObject %}
                    <div>
                        <table class="deployment-server-table">
                            <tr>
                                <th class="title" colspan=2>
                                    <div class="table-title">SAN Host {{ das.storage.hostname }}</div>
                                </th>
                            </tr>
                            <tr>
                                <th width="35%">SAN Details:</th>
                                <td>
                                   <a href="/dmt/storage/{{ das.storage.id }}/">{{ das.storage.hostname }}</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                {% endfor %}
             </div>
             </div>
        {% endif %}
        {% if dasNasObject %}
        <div id="accordionDas1">
            <h3>Direct Attached Storage</h3>
            <div>
                <table class="deployment-server-table">
                    <tr>
                        <th class="title">
                            <div class="table-title">Direct Attached Storage</div>
                             <div class="table-actions">
                                {% if userPerms %}
                                    <a class="img" href="/dmt/editdas/nas/{{cluster.id}}/">
                                        <img src="/static/images/edit.png" />
                                    </a>
                                    <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this DAS instance?','/dmt/deletedas/nas/{{ cluster.id }}/');">
                                        <img src="/static/images/delete.png">
                                    </a>
                                {% else %}
                                    <img src="/static/images/noedit.png" title="No Permission to Edit Direct Attached Storage"/>
                                    <img src="/static/images/nodelete.png" title="No Permission to Delete Direct Attached Storage"/>
                                {% endif %}
                             </div>
                        </th>
                    </tr>
                </table>
                {% for das in dasNasObject %}
                    <div>
                        <table class="deployment-server-table">
                           <tr>
                               <th>NAS Host Details:</th>
                               <td>
                                   <a href="/dmt/nassvrs/{{ das.dasNasServer.id }}/">{{ das.dasNasServer.hostname }} (id: {{ das.dasNasServer.id }})</a>
                               </td>
                           </tr>
                           {%if nasStorageDtlsObj %}
                              <tr>
                                  <th class="title" colspan=2>Storage Details</th>
                              </tr>
                              {%for s in nasStorageDtlsObj %}
                                 <tr>
                                    <th>
                                       {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                          NAS Storage Pool Name
                                       {% else %}
                                          NAS Segment One Pool Name
                                       {% endif %}
                                    </th>
                                    <td>
                                       {{ s.poolFS1 }}
                                    </td>
                                 </tr>
                              {% endfor %}
                           {% endif %}
                        </table>
                    </div>
                {% endfor %}
             </div>
             </div>
        {% endif %}

        {% if clusterToNASMapObj %}
        <div id="accordionSAN">
            <h3>Storage Attached Network</h3>
            <div>
                <table class="deployment-server-table">
                    <tr>
                        <th class="title">
                            <div class="table-title">Storage Attached Network</div>
                             <div class="table-actions">
                                {% if userPerms %}
                                    {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                        <a class="img" href="/dmt/editSanTor/{{ cluster.id }}/">
                                                <img src="/static/images/edit.png" />
                                        </a>
                                    {% else %}
                                        <a class="img" href="/dmt/editSanOSS/{{ cluster.id }}/">
                                                <img src="/static/images/edit.png" />
                                        </a>
                                    {% endif %}
                                {% else %}
                                    <img src="/static/images/noedit.png" title="No Permission to Edit" />
                                {% endif %}

                                <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete this SAN Instance {{ NASServerObj.hostname }} to {{ storageObj.hostname }} ?','/dmt/deletesan/{{ cluster.id }}/');">
                                    <img src="/static/images/delete.png">
                                </a>
                             </div>
                        </th>
                    </tr>
                </table>
                <div class=details>
                    <table class="deployment-server-table">
                        <tr>
                            <th>NAS Host Details:</th>
                            <td>
                                <a href="/dmt/nassvrs/{{ NASServerObj.id }}/">{{ NASServerObj.hostname }} (id: {{ NASServerObj.id }})</a>
                            </td>
                        </tr>
                        {%if nasStorageDtlsObj %}
                            <tr>
                                <th class="title" colspan=2>Storage Details</th>
                            </tr>
                            {%for s in nasStorageDtlsObj %}
                                <tr>
                                    <th>SAN Storage Pool ID:</th>
                                    <td>
                                        {% if s.sanPoolId == "" %}
                                              Not Assigned
                                        {% else %}
                                              {{ s.sanPoolId }}
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <th>SAN Storage Pool Name:</th>
                                    <td>
                                        {% if s.sanPoolName == "" %}
                                             Not Assigned
                                        {% else %}
                                             {{ s.sanPoolName }}
                                        {% endif %}
                                    </td>
                                </tr>
                                {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                    <tr>
                                        <th>SAN Raid Group:</th>
                                        <td>
                                            {% if s.sanRaidGroup == "" or s.sanRaidGroup == None %}
                                               Not Assigned
                                            {% else %}
                                               {{ s.sanRaidGroup }}
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endif %}
                                <tr>
                                    <th>
                                        {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                            NAS Storage Pool Name
                                        {% else %}
                                            NAS Segment One Pool Name
                                        {% endif %}
                                    </th>
                                    <td>
                                        {{ s.poolFS1 }}
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                            NAS Storage Administrator
                                        {% else %}
                                            NAS Segment One FS
                                        {% endif %}
                                    </th>
                                    <td>
                                        {% if s.fileSystem1 %}
                                          {{ s.fileSystem1 }}
                                        {% else %}
                                           Not Assigned
                                        {% endif %}
                                    </td>
                                </tr>
                                {% if cluster.management_server.product.name == "OSS-RC" %}
                                    <tr>
                                        <th>NAS DDC Pool Name</th>
                                        <td>
                                           {{ s.poolFS2 }}
                                        </td>
                                    </tr>
                                {% endif %}
                                <tr>
                                    <th>
                                        {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                            NAS Observer FS
                                        {% else %}
                                            NAS DDC FS
                                        {% endif %}
                                    </th>
                                    <td>
                                        {% if s.fileSystem2 %}
                                           {{ s.fileSystem2 }}
                                        {% else %}
                                            Not Assigned
                                        {% endif %}
                                    </td>
                                </tr>
                               {% if cluster.layout.id == 3 %}
                                    <tr>
                                        <th>
                                            NAS SGWCG Pool Name
                                        </th>
                                        <td>
                                             {{ s.poolFS3 }}
                                        </td>
                                    </tr>
                                {% endif %}
                                <tr>
                                    <th>
                                        {% if cluster.layout.id == 1 or cluster.layout.id == 2 %}
                                            NAS Cluster FS
                                        {% else %}
                                            NAS SGWCG FS
                                        {% endif %}
                                    </th>
                                    <td>
                                        {% if s.fileSystem3 %}
                                           {{ s.fileSystem3 }}
                                        {% else %}
                                           Not Assigned
                                        {% endif %}
                                    </td>
                                </tr>
                               <tr>
                                   <th>
                                    NAS Type
                                   </th>
                                   <td>
                                      {% if s.nasType %}
                                         {{ s.nasType }}
                                      {% else %}
                                         Not Assigned
                                      {% endif %}
                                   </td>
                               </tr>
                               {% if "Rack" in cluster.enmDeploymentType.name %}
                               <tr>
                                    <th>
                                        FC Switches
                                    </th>
                                    <td>
                                        {{ s.fcSwitches }}
                                    </td>
                                </tr>
                               <tr>
                                    <th>
                                        NAS Ethernet Ports
                                    </th>
                                    <td>
                                        {{ s.nasEthernetPorts }}
                                    </td>
                                </tr>
                               <tr>
                                    <th>
                                        SAN Pool Disk Count
                                    </th>
                                    <td>
                                        {{ s.sanPoolDiskCount }}
                                    </td>
                                </tr>
                                {% endif %}
                               <tr>
                                 {% if clusterToNASMapObj.nasServer.server.hardware_type == "rack" and s.nasType == "unityxt" %}
                                  <th>
                                      NAS Ndmp Password
                                  </th>
                                  <td>
                                      {% if s.nasNdmpPassword %}
                                         {{ s.nasNdmpPassword }}
                                      {% else %}
                                          Not Assigned
                                      {% endif %}
                                  </td>
                                  {% endif %}
                                </tr>
                                <tr>
                                  {% if clusterToNASMapObj.nasServer.server.hardware_type == "rack" and s.nasType == "unityxt" %}
                                  <th>
                                      NAS Server Prefix
                                  </th>
                                  <td>
                                      {% if s.nasServerPrefix %}
                                         {{ s.nasServerPrefix }}
                                      {% else %}
                                          Not Assigned
                                      {% endif %}
                                  </td>
                                  {% endif %}
                                </tr>
                        {% endfor %}
                    {% endif %}
                    <tr>
                        <th>SAN Host Details:</th>
                        <td>
                           <a href="/dmt/storage/{{ storageObj.id }}/">{{ storageObj.hostname }}</a>
                        </td>
                    </tr>
                </table>
              </div>
           </div>
         </div>
         {% endif %}

         <div id="accordionOP">
             <h3> Other Properties </h3>
             <div>
                 <table class="deployment-server-table">
                     <tr>
                         <th class="title">
                            <div class="table-title">Other Properties</div>
                            <div class="table-actions">
                                {% if clusterAdditionalInformation %}
                                    {% if userPerms %}
                                        <a class="img" href="/dmt/editOProps/{{cluster.id}}/edit/"><img src="/static/images/edit.png"/></a>
                                        <a class="img" href="javascript:void(0)"
                                                onClick="checkAction('Do you really want to delete Other Properties of Cluster {{ cluster.name }}?',
                                                '/dmt/editOProps/{{ cluster.id }}/delete/')"><img src="/static/images/delete.png" title="Delete Other Properties of Deployment {{ cluster.name }}"/></a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="No Permission to Edit" />
                                    {% endif %}
                                {% else %}
                                    {% if userPerms %}
                                        <a class="img" href="/dmt/editOProps/{{cluster.id}}/add/"><img src="/static/images/create.png" title="Create Other Properties of the CLuster"/></a>
                                    {% else %}
                                        <img src="/static/images/noedit.png" title="No Permission to Edit" />
                                    {% endif %}
                                {% endif %}
                            </div>
                        </th>
                     </tr>
                 </table>
                 <div class="details">
                     <table class="deployment-server-table">
                         {% if clusterAdditionalInformation %}
                            <tr>
                                <td>DDP Hostname</td>
                                <td>
                                    {% if clusterAdditionalInformation.ddp_hostname == "" %}
                                    {% else %}
                                        {{ clusterAdditionalInformation.ddp_hostname }}
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td>Cron</td>
                                <td>
                                    {% if clusterAdditionalInformation.cron == "" %}
                                    {% else %}
                                        {{ clusterAdditionalInformation.cron }}
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td>Port</td>
                                <td>
                                    {% if clusterAdditionalInformation.port == "" %}
                                    {% else %}
                                        {{ clusterAdditionalInformation.port }}
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <td>Time</td>
                                <td>
                                    {% if clusterAdditionalInformation.time == "" %}
                                    {% else %}
                                        {{ clusterAdditionalInformation.time }}
                                    {% endif %}
                                </td>
                            </tr>
                         {% endif %}
                     </table>
                 </div>
             </div>
         </div>

         {% if vlanTagObj %}
          <div id="accordionMED">
              <h3>VLAN Details</h3>
           <div>
           <div id="accordionVlanDetails">
                <h3>General VLAN Details</h3>
                <div>
                  <table class="deployment-server-table">
                     <tr>
                        <th class="title" colspan=2>
                            <div class="table-title">General VLAN Details</div>
                            <div class="table-actions">
                                {% if userPermsAdmin %}
                                   <a class="img" href="/dmt/vlan/{{cluster.id}}/edit/">
                                       <img src="/static/images/edit.png" />
                                   </a>
                                   <a class="img" href="javascript:void(0)" onCLick="checkAction('Do you really want to Delete these General VLAN Details?','/dmt/deleteHBVlan/{{ cluster.id }}/');">
                                      <img src="/static/images/delete.png">
                                   </a>
                                {% else %}
                                   <img class="img" title="No Permissions to Edit General VLAN Details" src="/static/images/noedit.png" />
                                   <img class="img" title="No Permissions to Edit General VLAN Details" src="/static/images/nodelete.png" />
                                {% endif %}
                             </div>
                        </th>
                    </tr>
                    {% for vlan in vlanTagObj %}
                        <tr>
                            <th>Services Subnet:</th>
                            <td>
                                {% if vlan.services_subnet %}
                                    {{ vlan.services_subnet }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Services Gateway:</th>
                            <td>
                                {% if vlan.services_gateway %}
                                   {{ vlan.services_gateway }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Ipv6 Service Gateway:</th>
                            <td>
                                {% if vlan.services_ipv6_gateway %}
                                   {{ vlan.services_ipv6_gateway }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Ipv6 Services Subnet:</th>
                            <td>
                                {% if vlan.services_ipv6_subnet %}
                                   {{ vlan.services_ipv6_subnet }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Storage Subnet:</th>
                            <td>
                                {% if vlan.storage_subnet %}
                                   {{ vlan.storage_subnet }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Storage Gateway:</th>
                            <td>
                                {% if vlan.storage_gateway %}
                                   {{ vlan.storage_gateway }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Backup Subnet:</th>
                            <td>
                                {% if vlan.backup_subnet %}
                                    {{ vlan.backup_subnet }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>JGroups Subnet:</th>
                            <td>
                                {% if vlan.jgroups_subnet %}
                                   {{ vlan.jgroups_subnet }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Internal Subnet:</th>
                            <td>
                                {% if vlan.internal_subnet %}
                                    {{ vlan.internal_subnet }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>IPv6 Internal Subnet:</th>
                            <td>
                                {% if vlan.internal_subnet %}
                                   {{ vlan.internal_ipv6_subnet }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Storage VLAN ID:</th>
                            <td>
                                {% if vlan.storage_vlan %}
                                   {{ vlan.storage_vlan }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Backup VLAN ID:</th>
                            <td>
                                {% if vlan.backup_vlan %}
                                   {{ vlan.backup_vlan }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>JGroups VLAN ID:</th>
                            <td>
                                {% if vlan.jgroups_vlan %}
                                    {{ vlan.jgroups_vlan }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Internal VLAN ID:</th>
                            <td>
                                {% if vlan.internal_vlan %}
                                    {{ vlan.internal_vlan }}
                                {% else %}
                                    Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Services VLAN ID:</th>
                            <td>
                                {% if vlan.services_vlan %}
                                   {{ vlan.services_vlan }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Management VLAN ID:</th>
                            <td>
                                {% if vlan.management_vlan %}
                                   {{ vlan.management_vlan }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>LITP Management:</th>
                            <td>
                                {% if vlan.litp_management %}
                                   {{ vlan.litp_management }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th class="title" colspan=2>Heart Beat VLAN <font size="1">(only applicable if the Servers are in separate enclosures)</font></th>
                        </tr>
                        <tr>
                            <th>Heart Beat A VLAN ID:</th>
                            <td>
                                {% if vlan.hbAVlan %}
                                   {{ vlan.hbAVlan }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Heart Beat B VLAN ID:</th>
                            <td>
                                {% if vlan.hbBVlan %}
                                    {{ vlan.hbBVlan }}
                                {% else %}
                                   Not Assigned
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
           </div>
            {% if virtualConnectNetworksObj %}
                <div id="accordionVlanDetailsCon">
                    <h3>General VLAN Details (Cont.)</h3>
                    <div>
                        <table class="deployment-server-table">
                        <tr>
                            <th class="title" colspan=2>
                                <div class="table-title">General VLAN Details (Cont.)</div>
                                 <div class="table-actions">
                                     {% for vlan in vlanTagObj %}
                                      {% if userPermsAdmin %}
                                        <a class="img" href="/dmt/virtualConnect/{{vlan.id}}/edit/">
                                            <img src="/static/images/edit.png" />
                                        </a>
                                      {% else %}
                                        <img class="img" title="No Permissions to Edit General VLAN Details" src="/static/images/noedit.png" />
                                      {% endif %}
                                     {% endfor %}
                                 </div>
                            </th>
                        </tr>
                        <tr>
                            <th class="title" colspan=2>Virtual Connect Shared Uplink Sets</th>
                        </tr>
                        {% if virtualConnectNetworksObj %}
                            <tr>
                                <th>Shared Uplink Set A:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.sharedUplinkSetA %}
                                        {{ virtualConnectNetworksObj.sharedUplinkSetA }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Shared Uplink Set B:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.sharedUplinkSetB %}
                                       {{ virtualConnectNetworksObj.sharedUplinkSetB }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                        {% endif %}
                        <tr>
                            <th class="title" colspan=2>Virtual Connect Networks</th>
                        </tr>
                        {% if virtualConnectNetworksObj %}
                            <tr>
                                <th>Services A Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.servicesA %}
                                        {{ virtualConnectNetworksObj.servicesA }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Services B Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.servicesB %}
                                        {{ virtualConnectNetworksObj.servicesB }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Storage A Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.storageA %}
                                        {{ virtualConnectNetworksObj.storageA }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Storage B Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.storageB %}
                                        {{ virtualConnectNetworksObj.storageB }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Backup A Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.backupA %}
                                       {{ virtualConnectNetworksObj.backupA }}
                                    {% else %}
                                       Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Backup B Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.backupB %}
                                       {{ virtualConnectNetworksObj.backupB }}
                                    {% else %}
                                       Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>JGroups Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.jgroups %}
                                        {{ virtualConnectNetworksObj.jgroups }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>JGroups A Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.jgroupsA %}
                                        {{ virtualConnectNetworksObj.jgroupsA }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>JGroups B Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.jgroupsB %}
                                        {{ virtualConnectNetworksObj.jgroupsB }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Internal A Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.internalA %}
                                        {{ virtualConnectNetworksObj.internalA }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Internal B Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.internalB %}
                                        {{ virtualConnectNetworksObj.internalB }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Heartbeat 1 Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.heartbeat1 %}
                                        {{ virtualConnectNetworksObj.heartbeat1 }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Heartbeat 2 Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.heartbeat2 %}
                                       {{ virtualConnectNetworksObj.heartbeat2 }}
                                    {% else %}
                                       Not Assigned
                                    {% endif %}
                                </td>
                            <tr>
                                <th>Heartbeat A Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.heartbeat1A %}
                                       {{ virtualConnectNetworksObj.heartbeat1A }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th>Heartbeat B Network:</th>
                                <td>
                                    {% if virtualConnectNetworksObj.heartbeat2B %}
                                        {{ virtualConnectNetworksObj.heartbeat2B }}
                                    {% else %}
                                        Not Assigned
                                    {% endif %}
                                </td>
                            </tr>
                      {% endif %}
                     </table>
                  </div>
              </div>
              {% endif %}
              {% if databaseProvider %}
              <div id="accordionDatabaseProvider">
                  <h3>Database Provider</h3>
                  <div>
                    <table class="deployment-server-table">
                        <tr>
                           <th class="title" colspan=2>
                              <div class="table-title">Database Provider</div>
                                <div class="table-actions">
                                     {% if userPerms %}
                                       <a class="img" href="/dmt/{{cluster.id}}/editDatabaseProvider/">
                                          <img src="/static/images/edit.png" />
                                       </a>
                                     {% else %}
                                       <img class="img" title="No Permissions to Edit General VLAN Details" src="/static/images/noedit.png" />
                                     {% endif %}
                                </div>
                           </th>
                        </tr>
                        <tr>
                           <th>DPS Persistence Provider:</th>
                           <td>
                              {{ databaseProvider.dpsPersistenceProvider }}
                           </td>
                        </tr>
                    </table>
                 </div>
             </div>
             {% endif %}
           </div>
          </div>
         {% endif %}

         {% if dvmsInformation %}
         <div id="accordionDVMS">
           <h3> DVMS Information </h3>
           <div>
             <table class="deployment-server-table">
                 <tr>
                     <th class="title">
                        <div class="table-title">DVMS Information</div>
                        <div class="table-actions">
                            {% if dvmsInformation %}
                                {% if userPerms %}
                                    <a class="img" href="/dmt/dvmsInformation/{{cluster.id}}/edit/"><img src="/static/images/edit.png"/></a>
                                    <a class="img" href="javascript:void(0)"
                                            onClick="checkAction('Do you really want to delete DVMS Information of Cluster {{ cluster.name }}?',
                                            '/dmt/dvmsInformation/{{ cluster.id }}/delete/')"><img src="/static/images/delete.png" title="Delete DVMS Information of Deployment {{ cluster.name }}"/></a>
                                {% else %}
                                    <img src="/static/images/noedit.png" title="No Permission to Edit" />
                                {% endif %}
                            {% endif %}
                        </div>
                    </th>
                 </tr>
             </table>

             <div class="details">
                 <table class="deployment-server-table">
                     {% if dvmsInformation %}
                        <tr>
                            <td>External IPv4 Address</td>
                            <td>
                                {% if dvmsInformation.external_ipv4__address == "" %}
                                {% else %}
                                    {{ dvmsInformation.external_ipv4__address }}
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td>External IPv6 Address</td>
                            <td>
                                {% if dvmsInformation.external_ipv6__ipv6_address == "" %}
                                {% else %}
                                    {{ dvmsInformation.external_ipv6__ipv6_address }}
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td>Internal IPv4 Address</td>
                            <td>
                                {% if dvmsInformation.internal_ipv4__address == "" %}
                                {% else %}
                                    {{ dvmsInformation.internal_ipv4__address }}
                                {% endif %}
                            </td>
                        </tr>
                     {% endif %}
                 </table>
             </div>
           </div>
         </div>
         {% endif %}
         </div>
        </div>
      {% endif %}
      </div>
     {% else %}
<div class="deployment_container">
<h2 class="generalPageNewLook-title">Deployments
    <a class="img" href="/dmt/addcluster/" title="Register A Deployment"><img src="/static/images/create.png"/></a>&nbsp;<a class="img" href="https://confluence-oss.seli.wh.rnd.internal.ericsson.com/display/CIOSS/Register+a+Deployment" title="Register Deployment Help" target="_blank"><img src="/static/images/question.png"/></a>
        </h2>
        <br>
        <table class="general-table">
            {% if clusters %}
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>RA</th>
                        <th>Description</th>
                        <th>ID</th>
                        <th>Layout</th>
                        <th>Status</th>
                        <th>Change Log</th>
                    </tr>
                </thead>
                {% for item in clusters %}
                    <tr>
                        <td><a href="/dmt/clusters/{{ item.id }}/" onclick="$('body').addClass('loading');">{{ item.name }}</a></td>
                        {% if item.component__id %}
                            <td>{{ item.component__product__name }} --> {{ item.component__element }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                        <td>{{ item.description }}</td>
                        <td>{{ item.id }}</td>
                        <td>{{ item.layout__name }}</td>
                        <td>{% spaceless %}
                        {% if item.status %}
                            {{ item.status }}
                        {% endif %}
                        {% endspaceless %}</td>
                        <td><a class="img" style="padding-left:5px;" href="/dmt/log/deploymentserver/{{ item.id }}/" title="User Activity Log for {{ item.name }}"><img src="/static/images/log.png"/></a> </td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
     </div>
 {% endif %}
 <div class="modal"></div>
{% endspaceless %}
{% endblock %}
